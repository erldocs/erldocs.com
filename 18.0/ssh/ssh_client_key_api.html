<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>ssh_client_key_api (ssh) -  (Erlang Documentation)</title>
    <link href="../erldocs.css" type="text/css" rel="stylesheet"/>
    <link href="/search.xml" rel="search" type="application/opensearchdescription+xml" title="erldocs"/>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-44246018-1', 'auto');
      ga('send', 'pageview');
    </script>
  </head>

  <body>
    <div id="sidebar" class="inactive">
      <input type="text" id="search" autocomplete="off" placeholder="press TAB to search"/>
      <ul id="results"> </ul>
    </div>

    <div id="content">
      <div style="margin:0px; padding:10px 20px;">
        
  
  <h1>ssh_client_key_api</h1>
  <h2 class="modsummary">
     -behaviour(ssh_client_key_api).
  </h2>
  <div class="description">
    <p>Behavior describing the API for public key handling of an SSH client. By implementing
    the callbacks defined in this behavior, the public key handling of an SSH client can
    be customized. By default the <code>ssh</code> application implements this behavior
    with help of the standard OpenSSH files,
    see the <a href="SSH_app.html" class="seealso"> ssh(6)</a> application manual.</p>
  </div>

  <div class="section">
    <h4>DATA TYPES</h4>

    <p>Type definitions that are used more than once in this module,
    or abstractions to indicate the intended use of the data
    type, or both. For more details on public key data types,
    refer to Section 2 Public Key Records in the
    <a href="../public_key/public_key_records.html" class="seealso"> public_key user's guide:</a>
    </p>
    <taglist>
      <dt><code>boolean() =</code></dt>
      <item><p><code>true | false</code></p></item>
      <dt><code>string() =</code></dt>
      <item><p><code>[byte()]</code></p></item>
      <dt><code>public_key() =</code></dt>
      <item><p><code>#'RSAPublicKey'{}| {integer(),  #'Dss-Parms'{}}| term()</code></p></item>
      <dt><code>private_key() =</code></dt>
      <item><p><code>#'RSAPrivateKey'{} | #'DSAPrivateKey'{} | term()</code></p></item>
      <dt><code>public_key_algorithm() =</code></dt>
      <item><p><code>'ssh-rsa'| 'ssh-dss' | atom()</code></p></item>
    </taglist>
  </div>

  <div id="functions" class="category"><h4><a href="#functions">Functions</a></h4><hr/>
    <div class="function">
      <h3 id="add_host_key/3">Module:add_host_key(HostNames, Key, ConnectOptions) -&gt; ok | {error, Reason}</h3>
      
      <ul class="type">
      <li><code>HostNames = string()</code></li>
      <d>Description of the host that owns the <code>PublicKey</code>.</d>

      <li><code>Key = public_key()</code></li>
      <d>Normally an RSA or DSA public key, but handling of other public keys can be added.</d>

      <li><code>ConnectOptions = proplists:proplist()</code></li>
      <d>Options provided to <a href="ssh.html#connect/3" class="seealso">ssh:connect/[3,4]</a></d>
      <li><code>Reason = term().</code></li>
      </ul>
      <div class="description">
	 <p>Adds a host key to the set of trusted host keys.</p>
      </div>
    </div>

    <div class="function">
      <h3 id="is_host_key/4">Module:is_host_key(Key, Host, Algorithm, ConnectOptions) -&gt; Result</h3>
      
      <ul class="type">
	<li><code>Key = public_key() </code></li>
	<d>Normally an RSA or DSA public key, but handling of other public keys can be added.</d>

	<li><code>Host = string()</code></li>
	<d>Description of the host.</d>

	<li><code>Algorithm = public_key_algorithm()</code></li>
	<d>Host key algorithm. Is to support <code>'ssh-rsa'| 'ssh-dss'</code>, but more algorithms
	can be handled.</d>

	<li><code>ConnectOptions = proplists:proplist() </code></li>
	<d>Options provided to <a href="ssh.html#connect/3" class="seealso">ssh:connect/[3,4]</a>.</d>

	<li><code>Result = boolean()</code></li>
      </ul>
      <div class="description">
	<p>Checks if a host key is trusted.</p>
      </div>
    </div>

    <div class="function">
      <h3 id="user_key/2">Module:user_key(Algorithm, ConnectOptions) -&gt;
      {ok,  PrivateKey}  | {error, Reason}</h3>
      
      <ul class="type">
	<li><code>Algorithm = public_key_algorithm()</code></li>
	<d>Host key algorithm. Is to support <code>'ssh-rsa'| 'ssh-dss'</code> but more algorithms
	can be handled.</d>

	<li><code>ConnectOptions = proplists:proplist()</code></li>
	<d>Options provided to <a href="ssh.html#connect/3" class="seealso">ssh:connect/[3,4]</a></d>

	<li><code>PrivateKey = private_key()</code></li>
	<d>Private key of the user matching the <code>Algorithm</code>.</d>

	<li><code>Reason = term()</code></li>
      </ul>

      <div class="description">
	<p>Fetches the users <em>public key</em> matching the <code>Algorithm</code>.</p>
	<div class="note"><h2>Note!</h2><p>The private key contains the public key.</p></div>

      </div>
    </div>

  </div>


      </div>
  </div>

    <script type="text/javascript">
      var CURRENT_ROOT = "../";
    </script>

    <script type="text/javascript" src="../jquery.js"></script>
    <script type="text/javascript" src="../erldocs_index.js"></script>
    <script type="text/javascript" src="../erldocs.js"></script>
  </body>
</html>
