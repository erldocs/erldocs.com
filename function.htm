<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>erldocs.com - Function lookup</title>
    <script src="jquery-1.10.2.min.js"></script>
    <script src="handlebars.runtime.min-v1.2.0.js"></script>
    <script src="typeahead.bundle.min.js"></script>
    <link href="typeahead-examples.css" type="text/css" rel="stylesheet"/>
    <link href="repo.css" type="text/css" rel="stylesheet"/>
    <link href="/search.xml" rel="search" type="application/opensearchdescription+xml" title="erldocs_other"/>

    <script>
      var _gaq = _gaq || [];
      _gaq.push(['_require', 'inpage_linkid', '//www.google-analytics.com/plugins/ga/inpage_linkid.js']);
      _gaq.push(['_setAccount', 'UA-44246018-1']);
      _gaq.push(['_setDomainName', 'erldocs.com']);
      _gaq.push(['_trackPageview']);
      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();

      $(document).ready(function () {
      funs = {};

      var cacheScript = function (Url, Success) {
      $.ajaxSetup({cache: true});
      return $.getScript(Url).done(Success);
      };

      var cacheReleaseIndex = function (Release) {
      cacheScript("http://erldocs.com/"+Release+"/erldocs_index.js", function (src,status) {
      console.log(Release+": "+status);
      funs[Release] = index;
      })
      };

      cacheReleaseIndex("R15B03");
      cacheReleaseIndex("R15B02");
      cacheReleaseIndex("R15B01");
      cacheReleaseIndex("R15B");

      <!-- function setup () { -->
      <!--   var Msg = $("#msg"); -->
      <!--   var Bar = $("input .typeahead"); -->
      <!--   Msg.html(funs.length); -->

      <!--   var substringMatcher = function(strs) { -->
      <!--     return function findMatches(q, cb) { -->
      <!--       var matches = []; -->
      <!--       var substrRegex = new RegExp(q, 'i'); -->
      <!--       $.each(strs, function(i, str) { -->
      <!--         if (substrRegex.test(str)) { -->
      <!--           matches.push({ value: str }); -->
      <!--         } -->
      <!--       }); -->
      <!--       Msg.html(matches.length +' / '+ apps.length); -->
      <!--       cb(matches); -->
      <!--     }; -->
      <!--   }; -->
      <!--   Bar.typeahead({ -->
      <!--     hint: true, -->
      <!--     highlight: true, -->
      <!--     minLength: 1 }, { -->
      <!--     name: 'funs', -->
      <!--     displayKey: 'value', -->
      <!--     source: substringMatcher(apps) -->
      <!--   }); -->

      <!--   if (QueryString.q !== undefined && query.length > 2) -->
      <!--     Bar.focus().typeahead('val', query); -->
      <!-- }; -->

      });
    </script>
  </head>
  <body>
    <div id="front_page">
      <h1>function lookup</h1>
      Find the OTP releases providing this function<br/><br/>
      <span id="msg" style="color:#666;"></span>
      <input type="text" class="typeahead" name="q" placeholder="function name" size="50" autofocus/>
      <br/>
      <p><a href="//erldocs.com">home</a></p>
    </div>
  </body>
</html>

