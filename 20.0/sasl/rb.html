<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>rb (sasl) -  (Erlang Documentation)</title>
    <link href="../erldocs.css" type="text/css" rel="stylesheet"/>
    <link href="/search.xml" rel="search" type="application/opensearchdescription+xml" title="erldocs"/>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-44246018-1', 'auto');
      ga('send', 'pageview');
    </script>
  </head>

  <body>
    <div id="sidebar" class="inactive">
      <input type="text" id="search" autocomplete="off" placeholder="press TAB to search"/>
      <ul id="results"> </ul>
    </div>

    <div id="content">
      <div style="margin:0px; padding:10px 20px;">
        
  
  <h1>rb</h1>
  <h2 class="modsummary">The Report Browser Tool</h2>
  <div class="description">
    <p>The Report Browser (RB) tool is used to browse and
      format error reports written by the error logger handler
      <a href="../stdlib/log_mf_h.html" class="seealso"><code>log_mf_h</code></a>
      in STDLIB.</p>
  </div>

  <div id="functions" class="category"><h4><a href="#functions">Functions</a></h4><hr/>
    <div class="function">
      <h3 id="filter/1">filter(Filters)</h3>
      <h3 id="filter/2">filter(Filters, Dates)</h3>
      
      <ul class="type">
        <li><code>Filters = [filter()]</code></li>
        <li><code>filter() = {Key, Value} | {Key, Value, no} | {Key, RegExp, re} |
          {Key, RegExp, re, no}</code></li>
        <li><code>Key = term()</code></li>
        <li><code>Value = term()</code></li>
        <li><code>RegExp = string() | {string(), Options} | re:mp() | {re:mp(), Options}</code></li>
        <li><code>Dates = {DateFrom, DateTo} | {DateFrom, from} | {DateTo, to}</code></li>
        <li><code>DateFrom = DateTo = calendar:datetime()</code></li>
      </ul>
      <div class="description">
        <p>Displays the reports that match the provided filters.</p>
        <p>When a filter includes the <code>no</code> atom, it excludes the
          reports that match that filter.</p>
        <p>The reports are matched using the
          <a href="../stdlib/proplists.html" class="seealso"><code>proplists</code></a>
          module in STDLIB. The report must be a proplist
          to be matched against any of the filters.</p>
        <p>If the filter has the form <code>{Key, RegExp, re}</code>, the
          report must contain an element with key equal to <code>Key</code> and
          the value must match the regular expression <code>RegExp</code>.</p>
        <p>If parameter <code>Dates</code> is specified, the reports are filtered
          according to the date when they occurred. If <code>Dates</code> has
          the form <code>{DateFrom, from}</code>, reports that occurred after
	  <code>DateFrom</code> are displayed.</p>
        <p>If <code>Dates</code> has the form <code>{DateTo, to}</code>, reports that
          occurred before <code>DateTo</code> are displayed.</p>
        <p>If two <code>Dates</code> are specified, reports that occurred between
          those dates are returned.</p>
        <p>To filter only by dates, specify the empty list as the <code>Filters</code>
	   parameter.</p>
        <p>For details about parameter <code>RegExp</code>, see <code>rb:grep/1</code>.</p>
	<p>For details about data type <code>mp()</code>, see 
	<a href="../stdlib/re.html#type-mp" class="seealso"><code>re:mp()</code></a>.</p>
	<p>For details about data type <code>datetime()</code>, see 
	<a href="../stdlib/calendar.html#type-datetime" class="seealso"><code>calendar:datetime()</code></a>.</p>
      </div>
    </div>

    <div class="function">
      <h3 id="grep/1">grep(RegExp)</h3>
      
      <ul class="type">
        <li><code>RegExp = string() | {string(), Options} | re:mp() | {re:mp(), Options}</code></li>
      </ul>
      <div class="description">
        <p>All reports matching the regular expression <code>RegExp</code>
          are displayed. <code>RegExp</code> can be any of the following:</p>
        <list type="bulleted">
          <item>A string containing the regular expression</item>
          <item>A tuple with the string and the options for compilation</item>
          <item>A compiled regular expression</item>
          <item>A compiled regular expression and the options for running it</item>
        </list>
        <p>For a definition of valid regular expressions and options, see
          the <a href="../stdlib/re.html" class="seealso"><code>re</code></a> module in
          STDLIB and in particular function <code>re:run/3</code>.</p>
	  <p>For details about data type <code>mp()</code>, see 
	<a href="../stdlib/re.html#type-mp" class="seealso"><code>re:mp()</code></a>.</p>
      </div>
    </div>

    <div class="function">
      <h3 id="h/0">h()</h3>
      <h3 id="help/0">help()</h3>
      
      <div class="description">
        <p>Displays online help information.</p>
      </div>
    </div>

    <div class="function">
      <h3 id="list/0">list()</h3>
      <h3 id="list/1">list(Type)</h3>
      
      <ul class="type">
        <li><code>Type = type()</code></li>
        <li><code>type() = error | error_report | info_msg | info_report |
          warning_msg | warning_report | crash_report |
          supervisor_report | progress</code></li>
      </ul>
      <div class="description">
        <p>Lists all reports loaded in
          <code>rb_server</code>. Each report is given a unique number that
          can be used as a reference to the report in function
          <a href="#show/1" class="seealso"><code>show/1</code></a>.</p>
        <p>If no <code>Type</code> is specified, all reports are listed.</p>
      </div>
    </div>

    <div class="function">
      <h3 id="log_list/0">log_list()</h3>
      <h3 id="log_list/1">log_list(Type)</h3>
      
      <ul class="type">
        <li><code>Type = type()</code></li>
        <li><code>type() = error | error_report | info_msg | info_report |
          warning_msg | warning_report | crash_report |
          supervisor_report | progress</code></li>
      </ul>
      <div class="description">
        <p>Same as functions 
	<a href="#list/0" class="seealso"><code>list/0</code></a> or 
	<a href="#list/1" class="seealso"><code>list/1</code></a>,
	  but the result is printed to a log file, if set; otherwise
          to <code>standard_io</code>.</p>
        <p>If no <code>Type</code> is specified, all reports are listed.</p>
      </div>
    </div>

    <div class="function">
      <h3 id="rescan/0">rescan()</h3>
      <h3 id="rescan/1">rescan(Options)</h3>
      
      <ul class="type">
        <li><code>Options = [opt()]</code></li>
      </ul>
      <div class="description">
        <p>Rescans the report directory. <code>Options</code> is the same as
          for function 
	<a href="#start/1" class="seealso"><code>start/1</code></a>.</p>
      </div>
    </div>

    <div class="function">
      <h3 id="show/0">show()</h3>
      <h3 id="show/1">show(Report)</h3>
      
      <ul class="type">
        <li><code>Report = integer() | type()</code></li>
      </ul>
      <div class="description">
        <p>If argument <code>type</code> is specified, all loaded reports of this
          type are displayed. If an integer argument is specified, the
          report with this reference number is displayed. If no argument
          is specified, all reports are displayed.</p>
      </div>
    </div>

    <div class="function">
      <h3 id="start/0">start()</h3>
      <h3 id="start/1">start(Options)</h3>
      
      <ul class="type">
        <li><code>Options = [opt()]</code></li>
        <li><code>opt() = {start_log, FileName} | {max, MaxNoOfReports} |
          {report_dir, DirString} | {type, ReportType} |
          {abort_on_error, Bool}</code></li>
        <li><code>FileName = string() | atom() | pid()</code></li>
        <li><code>MaxNoOfReports = integer() | all</code></li>
        <li><code>DirString = string()</code></li>
        <li><code>ReportType = type() | [type()] | all</code></li>
        <li><code>Bool = boolean()</code></li>
      </ul>
      <div class="description">
        <p>Function <code>start/1</code> starts <code>rb_server</code> with the
          specified options, whereas function <code>start/0</code> starts with
          default options. <code>rb_server</code> must be started before
          reports can be browsed. When <code>rb_server</code> is
          started, the files in the specified directory are
          scanned. The other functions assume that the server has
	  started.</p>
	<p><em>Options:</em></p>
        <taglist>
	<dt><code>{start_log, FileName}</code></dt>
          <item><p>Starts logging to file,
	  registered name, or <code>io_device</code>. All reports are printed
	  to the specified destination. Default is <code>standard_io</code>.
	  Option <code>{start_log, standard_error}</code> is not allowed and
          will be replaced by default <code>standard_io</code>.</p></item>
        <dt><code>{max, MaxNoOfReports}</code></dt>
          <item><p>Controls how many reports
          <code>rb_server</code> is to read at startup. This option is
          useful, as the directory can contain a large amount of reports. If this
          option is specified, the <code>MaxNoOfReports</code> latest reports
          are read. Default is <code>all</code>.</p></item>
        <dt><code>{report_dir, DirString}</code></dt>
          <item><p>Defines the directory where
          the error log files are located. Default is
          the directory specified by application environment
          variable <code>error_logger_mf_dir</code>,
          see <a href="sasl_app.html" class="seealso">sasl(6)</a>.</p></item>
        <dt><code>{type, ReportType}</code></dt>
          <item><p>Controls what kind of reports
          <code>rb_server</code> is to read at startup. <code>ReportType</code>
          is a supported type, <code>all</code>, or a list of supported
          types. Default is <code>all</code>.</p></item>
        <dt><code>{abort_on_error, Bool}</code></dt>
          <item><p>Specifies if
          logging is to be ended if <code>rb</code> encounters an unprintable
          report. (You can get a report with an incorrect form if function
          <code>error_logger</code>, <code>error_msg</code>, or
          <code>info_msg</code> has been called with an invalid format string)</p>
          <list type="bulleted">
            <item>If <code>Bool</code> is <code>true</code>, <code>rb</code> stops logging
            (and prints an error message to <code>stdout</code>) if it encounters
            a badly formatted report. If logging to file is enabled, an
            error message is appended to the log file as well.</item>
            <item>If <code>Bool</code> is <code>false</code> (the default value), <code>rb</code> 
            prints an error message to <code>stdout</code> for every bad report it
            encounters, but the logging process is never ended. All printable 
            reports are written. If logging to file is enabled, <code>rb</code> prints 
            <code>* UNPRINTABLE REPORT *</code> in the log file at the location of an
            unprintable report.</item>
         </list></item>
       </taglist>
      </div>
    </div>

    <div class="function">
      <h3 id="start_log/1">start_log(FileName)</h3>
      
      <ul class="type">
        <li><code>FileName = string() | atom() | pid()</code></li>
      </ul>
      <div class="description">
        <p>Redirects all report output from the RB tool to the
          specified file, registered name, or <code>io_device</code>.</p>
      </div>
    </div>

    <div class="function">
      <h3 id="stop/0">stop()</h3>
      
      <div class="description">
        <p>Stops <code>rb_server</code>.</p>
      </div>
    </div>

    <div class="function">
      <h3 id="stop_log/0">stop_log()</h3>
      
      <div class="description">
        <p>Closes the log file. The output from the RB tool is
          directed to <code>standard_io</code>.</p>
      </div>
    </div>
  </div>

      </div>
  </div>

    <script type="text/javascript">
      var CURRENT_ROOT = "../";
    </script>

    <script type="text/javascript" src="../jquery.js"></script>
    <script type="text/javascript" src="../erldocs_index.js"></script>
    <script type="text/javascript" src="../erldocs.js"></script>
  </body>
</html>
