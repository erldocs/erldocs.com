<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>zlib (erts) -  (Erlang Documentation)</title>
    <link href="../erldocs.css" type="text/css" rel="stylesheet"/>
    <link href="/search.xml" rel="search" type="application/opensearchdescription+xml" title="erldocs"/>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-44246018-1', 'auto');
      ga('send', 'pageview');
    </script>
  </head>

  <body>
    <div id="sidebar" class="inactive">
      <input type="text" id="search" autocomplete="off" placeholder="press TAB to search"/>
      <ul id="results"> </ul>
    </div>

    <div id="content">
      <div style="margin:0px; padding:10px 20px;">
        
  
  <h1>zlib</h1>
  <h2 class="modsummary">zlib compression interface.</h2>
  <div class="description">
    <p>This module provides an API for the zlib library
      (<url href="http://www.zlib.net">www.zlib.net</url>).
      It is used to compress and decompress data.
      The data format is described by
      <url href="https://www.ietf.org/rfc/rfc1950.txt">RFC 1950</url>,
      <url href="https://www.ietf.org/rfc/rfc1951.txt">RFC 1951</url>, and
      <url href="https://www.ietf.org/rfc/rfc1952.txt">RFC 1952</url>.</p>

    <p>A typical (compress) usage is as follows:</p>

    <pre class="sh_erlang">
Z = zlib:open(),
ok = zlib:deflateInit(Z,default),

Compress = fun(end_of_data, _Cont) -&gt; [];
              (Data, Cont) -&gt;
                 [zlib:deflate(Z, Data)|Cont(Read(),Cont)]
           end,
Compressed = Compress(Read(),Compress),
Last = zlib:deflate(Z, [], finish),
ok = zlib:deflateEnd(Z),
zlib:close(Z),
list_to_binary([Compressed|Last])</pre>

    <p>In all functions errors, <code>{'EXIT',{Reason,Backtrace}}</code>,
      can be thrown, where <code>Reason</code> describes the error.</p>

    <p>Typical <code>Reasons</code>s:</p>

    <taglist>
      <dt><code>badarg</code></dt>
      <item>Bad argument.
      </item>
      <dt><code>not_initialized</code></dt>
      <item>The stream hasn't been initialized, eg. if
      <a href="#inflateInit/1" class="seealso"><code>inflateInit/1</code></a> wasn't
      called prior to a call to
      <a href="#inflate/2" class="seealso"><code>inflate/2</code></a>.
      </item>
      <dt><code>not_on_controlling_process</code></dt>
      <item>The stream was used by a process that doesn't control it. Use
      <a href="#set_controlling_process/2" class="seealso">
      <code>set_controlling_process/2</code></a> if you need to transfer
      a stream to a different process.</item>
      <dt><code>data_error</code></dt>
      <item>The data contains errors.
      </item>
      <dt><code>stream_error</code></dt>
      <item>Inconsistent stream state.</item>
      <dt><code>{need_dictionary,Adler32}</code></dt>
      <item>See <a href="#inflate/2" class="seealso"><code>inflate/2</code></a>.
      </item>
    </taglist>
  </div>

  <div id="types" class="category"><h4><a href="#types">Types</a></h4><hr/>
    <div class="type">
      <h3 id="type-zstream">zstream() = reference()</h3>
      <div class="description">
        <p>A zlib stream, see <a href="#open/0" class="seealso"><code>open/0</code></a>.
        </p>
       </div>
    </div>
    <div class="type">
      <h3 id="type-zlevel">zlevel() = <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;none | default | best_compression | best_speed | 0..9</h3>
    </div>
    <div class="type">
      <h3 id="type-zflush">zflush() = none | sync | full | finish</h3>
    </div>
    <div class="type">
      <h3 id="type-zmemlevel">zmemlevel() = 1..9</h3>
    </div>
    <div class="type">
      <h3 id="type-zmethod">zmethod() = deflated</h3>
    </div>
    <div class="type">
      <h3 id="type-zstrategy">zstrategy() = default | filtered | huffman_only | rle</h3>
    </div>
    <div class="type">
      <h3 id="type-zwindowbits">zwindowbits() = -15..-8 | 8..47</h3>
      <div class="description">
        <p>Normally in the range <code>-15..-8 | 8..15</code>.</p>
      </div>
    </div>
  </div>

  <div id="functions" class="category"><h4><a href="#functions">Functions</a></h4><hr/>
    <div class="function">
      <h3 id="adler32/2">adler32(Z, Data) -&gt; CheckSum</h3>
      <ul class="type_desc"><li><code>Z = <a href="#type-zstream" class="seealso">zstream()</a></code></li><li><code>Data = iodata()</code></li><li><code>CheckSum = integer() &gt;= 0</code></li></ul>
      
      <div class="description">
        <p>Calculates the Adler-32 checksum for <code><anno>Data</anno></code>.</p>
        <div class="warning"><h2>Warning!</h2>
          <p>This function is deprecated and will be removed in a future
             release. Use <a href="../erts/erlang.html#adler32/1" class="seealso">
             <code>erlang:adler32/1</code></a> instead.</p>
        </div>
      </div>
    </div>

    <div class="function">
      <h3 id="adler32/3">adler32(Z, PrevAdler, Data) -&gt; CheckSum</h3>
      <ul class="type_desc"><li><code>Z = <a href="#type-zstream" class="seealso">zstream()</a></code></li><li><code>PrevAdler = integer() &gt;= 0</code></li><li><code>Data = iodata()</code></li><li><code>CheckSum = integer() &gt;= 0</code></li></ul>
      
      <div class="description">
        <p>Updates a running Adler-32 checksum for <code><anno>Data</anno></code>.
          If <code><anno>Data</anno></code> is the empty binary or the empty iolist,
          this function returns the required initial value for the checksum.</p>
        <p>Example:</p>
        <pre class="sh_erlang">
Crc = lists:foldl(fun(Data,Crc0) -&gt;
                      zlib:adler32(Z, Crc0, Data),
                  end, zlib:adler32(Z,&lt;&lt; &gt;&gt;), Datas)</pre>
        <div class="warning"><h2>Warning!</h2>
          <p>This function is deprecated and will be removed in a future
             release. Use <a href="../erts/erlang.html#adler32/2" class="seealso">
             <code>erlang:adler32/2</code></a> instead.</p>
        </div>
      </div>
    </div>

    <div class="function">
      <h3 id="adler32_combine/4">adler32_combine(Z, Adler1, Adler2, Size2) -&gt; Adler</h3>
      <ul class="type_desc"><li><code>Z = <a href="#type-zstream" class="seealso">zstream()</a></code></li><li><code>Adler = Adler1 = Adler2 = Size2 = integer() &gt;= 0</code></li></ul>
      
      <div class="description">
        <p>Combines two Adler-32 checksums into one. For two binaries or
          iolists, <code>Data1</code> and <code>Data2</code> with sizes of <code>Size1</code>
          and <code><anno>Size2</anno></code>, with Adler-32 checksums
          <code><anno>Adler1</anno></code> and <code><anno>Adler2</anno></code>.</p>
        <p>This function returns the <code><anno>Adler</anno></code> checksum of
          <code>[Data1,Data2]</code>, requiring only <code><anno>Adler1</anno></code>,
          <code><anno>Adler2</anno></code>, and <code><anno>Size2</anno></code>.</p>
        <div class="warning"><h2>Warning!</h2>
          <p>This function is deprecated and will be removed in a future
             release. Use <a href="../erts/erlang.html#adler32_combine/3" class="seealso">
             <code>erlang:adler32_combine/3</code></a> instead.</p>
        </div>
      </div>
    </div>

    <div class="function">
      <h3 id="close/1">close(Z) -&gt; ok</h3>
      <ul class="type_desc"><li><code>Z = <a href="#type-zstream" class="seealso">zstream()</a></code></li></ul>
      
      <div class="description">
        <p>Closes the stream referenced by <code><anno>Z</anno></code>.</p>
      </div>
    </div>

    <div class="function">
      <h3 id="compress/1">compress(Data) -&gt; Compressed</h3>
      <ul class="type_desc"><li><code>Data = iodata()</code></li><li><code>Compressed = binary()</code></li></ul>
      
      <div class="description">
        <p>Compresses data with zlib headers and checksum.</p>
      </div>
    </div>

    <div class="function">
      <h3 id="crc32/1">crc32(Z) -&gt; CRC</h3>
      <ul class="type_desc"><li><code>Z = <a href="#type-zstream" class="seealso">zstream()</a></code></li><li><code>CRC = integer() &gt;= 0</code></li></ul>
      
      <div class="description">
        <p>Gets the current calculated CRC checksum.</p>
        <div class="warning"><h2>Warning!</h2>
          <p>This function is deprecated and will be removed in a future
             release. Use <a href="../erts/erlang.html#crc32/1" class="seealso">
             <code>erlang:crc32/1</code></a> on the uncompressed data
             instead.</p>
        </div>
      </div>
    </div>

    <div class="function">
      <h3 id="crc32/2">crc32(Z, Data) -&gt; CRC</h3>
      <ul class="type_desc"><li><code>Z = <a href="#type-zstream" class="seealso">zstream()</a></code></li><li><code>Data = iodata()</code></li><li><code>CRC = integer() &gt;= 0</code></li></ul>
      
      <div class="description">
        <p>Calculates the CRC checksum for <code><anno>Data</anno></code>.</p>
        <div class="warning"><h2>Warning!</h2>
          <p>This function is deprecated and will be removed in a future
             release. Use <a href="../erts/erlang.html#crc32/1" class="seealso">
             <code>erlang:crc32/1</code></a> instead.</p>
        </div>
      </div>
    </div>

    <div class="function">
      <h3 id="crc32/3">crc32(Z, PrevCRC, Data) -&gt; CRC</h3>
      <ul class="type_desc"><li><code>Z = <a href="#type-zstream" class="seealso">zstream()</a></code></li><li><code>PrevCRC = integer() &gt;= 0</code></li><li><code>Data = iodata()</code></li><li><code>CRC = integer() &gt;= 0</code></li></ul>
      
      <div class="description">
        <p>Updates a running CRC checksum for <code><anno>Data</anno></code>.
          If <code><anno>Data</anno></code> is the empty binary or the empty iolist,
          this function returns the required initial value for the CRC.</p>
        <p>Example:</p>
        <pre class="sh_erlang">
Crc = lists:foldl(fun(Data,Crc0) -&gt;
                      zlib:crc32(Z, Crc0, Data),
                  end, zlib:crc32(Z,&lt;&lt; &gt;&gt;), Datas)</pre>
        <div class="warning"><h2>Warning!</h2>
          <p>This function is deprecated and will be removed in a future
             release. Use <a href="../erts/erlang.html#crc32/2" class="seealso">
             <code>erlang:crc32/2</code></a> instead.</p>
        </div>
      </div>
    </div>

    <div class="function">
      <h3 id="crc32_combine/4">crc32_combine(Z, CRC1, CRC2, Size2) -&gt; CRC</h3>
      <ul class="type_desc"><li><code>Z = <a href="#type-zstream" class="seealso">zstream()</a></code></li><li><code>CRC = CRC1 = CRC2 = Size2 = integer() &gt;= 0</code></li></ul>
      
      <div class="description">
        <p>Combines two CRC checksums into one. For two binaries or iolists,
          <code>Data1</code> and <code>Data2</code> with sizes of <code>Size1</code> and
          <code><anno>Size2</anno></code>, with CRC checksums <code><anno>CRC1</anno></code>
          and <code><anno>CRC2</anno></code>.</p>
        <p>This function returns the <code><anno>CRC</anno></code> checksum of
          <code>[Data1,Data2]</code>, requiring only <code><anno>CRC1</anno></code>,
          <code><anno>CRC2</anno></code>, and <code><anno>Size2</anno></code>.</p>
        <div class="warning"><h2>Warning!</h2>
          <p>This function is deprecated and will be removed in a future
             release. Use <a href="../erts/erlang.html#crc32_combine/3" class="seealso">
             <code>erlang:crc32_combine/3</code></a> instead.</p>
        </div>
      </div>
    </div>

    <div class="function">
      <h3 id="deflate/2">deflate(Z, Data) -&gt; Compressed</h3>
      <ul class="type_desc"><li><code>Z = <a href="#type-zstream" class="seealso">zstream()</a></code></li><li><code>Data = iodata()</code></li><li><code>Compressed = iolist()</code></li></ul>
      
      <div class="description">
        <p>Same as <code>deflate(<anno>Z</anno>, <anno>Data</anno>, none)</code>.</p>
      </div>
    </div>

    <div class="function">
      <h3 id="deflate/3">deflate(Z, Data, Flush) -&gt; Compressed</h3>
      <ul class="type_desc"><li><code>Z = <a href="#type-zstream" class="seealso">zstream()</a></code></li><li><code>Data = iodata()</code></li><li><code>Flush = <a href="#type-zflush" class="seealso">zflush()</a></code></li><li><code>Compressed = iolist()</code></li></ul>
      
      <div class="description">
        <p>Compresses as much data as possible, and
          stops when the input buffer becomes empty. It can introduce
          some output latency (reading input without producing any
          output) except when forced to flush.</p>
        <p>If <code><anno>Flush</anno></code> is set to <code>sync</code>, all
          pending output is flushed to the output buffer and the
          output is aligned on a byte boundary, so that the
          decompressor can get all input data available so far. 
          Flushing can degrade compression for some compression algorithms;
          thus, use it only when necessary.</p>
        <p>If <code><anno>Flush</anno></code> is set to <code>full</code>, all output is
          flushed as with <code>sync</code>, and the compression state is reset so
          that decompression can restart from this point if previous compressed
          data has been damaged or if random access is desired. Using
          <code>full</code> too often can seriously degrade the compression.</p>
        <p>If <code><anno>Flush</anno></code> is set to <code>finish</code>,
          pending input is processed, pending output is flushed, and
          <code>deflate/3</code> returns. Afterwards the only possible operations
          on the stream are
          <a href="#deflateReset/1" class="seealso"><code>deflateReset/1</code></a> or
          <a href="#deflateEnd/1" class="seealso"><code>deflateEnd/1</code></a>.</p>
        <p><code><anno>Flush</anno></code> can be set to <code>finish</code> immediately
          after <a href="#deflateInit/1" class="seealso"><code>deflateInit</code></a>
          if all compression is to be done in one step.</p>
        <p>Example:</p>
        <pre class="sh_erlang">
zlib:deflateInit(Z),
B1 = zlib:deflate(Z,Data),
B2 = zlib:deflate(Z,&lt;&lt; &gt;&gt;,finish),
zlib:deflateEnd(Z),
list_to_binary([B1,B2])</pre>
      </div>
    </div>

    <div class="function">
      <h3 id="deflateEnd/1">deflateEnd(Z) -&gt; ok</h3>
      <ul class="type_desc"><li><code>Z = <a href="#type-zstream" class="seealso">zstream()</a></code></li></ul>
      
      <div class="description">
        <p>Ends the deflate session and cleans all data used. Notice that this
          function throws a <code>data_error</code> exception if the last call to
          <a href="#deflate/3" class="seealso"><code>deflate/3</code></a>
          was not called with <code>Flush</code> set to <code>finish</code>.</p>
      </div>
    </div>

    <div class="function">
      <h3 id="deflateInit/1">deflateInit(Z) -&gt; ok</h3>
      <ul class="type_desc"><li><code>Z = <a href="#type-zstream" class="seealso">zstream()</a></code></li></ul>
      
      <div class="description">
        <p>Same as <code>zlib:deflateInit(<anno>Z</anno>, default)</code>.</p>
      </div>
    </div>

    <div class="function">
      <h3 id="deflateInit/2">deflateInit(Z, Level) -&gt; ok</h3>
      <ul class="type_desc"><li><code>Z = <a href="#type-zstream" class="seealso">zstream()</a></code></li><li><code>Level = <a href="#type-zlevel" class="seealso">zlevel()</a></code></li></ul>
      
      <div class="description">
        <p>Initializes a zlib stream for compression.</p>
        <p><code><anno>Level</anno></code> decides the compression level to be
          used:</p>
        <list type="bulleted">
          <item>0 (<code>none</code>), gives no compression</item>
          <item>1 (<code>best_speed</code>) gives best speed</item>
          <item>9 (<code>best_compression</code>) gives best compression</item>
        </list>
      </div>
    </div>

    <div class="function">
      <h3 id="deflateInit/6">deflateInit(Z, Level, Method, WindowBits, MemLevel, Strategy) -&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ok</h3>
      <ul class="type_desc"><li><code>Z = <a href="#type-zstream" class="seealso">zstream()</a></code></li><li><code>Level = <a href="#type-zlevel" class="seealso">zlevel()</a></code></li><li><code>Method = <a href="#type-zmethod" class="seealso">zmethod()</a></code></li><li><code>WindowBits = <a href="#type-zwindowbits" class="seealso">zwindowbits()</a></code></li><li><code>MemLevel = <a href="#type-zmemlevel" class="seealso">zmemlevel()</a></code></li><li><code>Strategy = <a href="#type-zstrategy" class="seealso">zstrategy()</a></code></li></ul>
      
      <div class="description">
        <p>Initiates a zlib stream for compression.</p>
        <taglist>
          <dt><code><anno>Level</anno></code></dt>
          <item>
            <p>Compression level to use:</p>
            <list type="bulleted">
              <item>0 (<code>none</code>), gives no compression</item>
              <item>1 (<code>best_speed</code>) gives best speed</item>
              <item>9 (<code>best_compression</code>) gives best compression</item>
            </list>
          </item>
          <dt><code><anno>Method</anno></code></dt>
          <item>
            <p>Compression method to use, currently the only supported method
              is <code>deflated</code>.</p>
          </item>
          <dt><code><anno>WindowBits</anno></code></dt>
          <item>
            <p>The base two logarithm of the window size (the size of the
              history buffer). It is to be in the range 8 through 15. Larger
              values result in better compression at the expense of memory
              usage. Defaults to 15 if <a href="#deflateInit/2" class="seealso">
              <code>deflateInit/2</code></a> is used. A negative
              <code><anno>WindowBits</anno></code> value suppresses the zlib header
              (and checksum) from the stream. Notice that the zlib source
              mentions this only as a undocumented feature.</p>
	      <div class="warning"><h2>Warning!</h2>
		<p>Due to a known bug in the underlying zlib library, <code>WindowBits</code> values 8 and -8
		do not work as expected. In zlib versions before 1.2.9 values
		8 and -8 are automatically changed to 9 and -9. <em>From zlib version 1.2.9
		value -8 is rejected</em> causing <code>zlib:deflateInit/6</code> to fail
		(8 is still changed to 9). It also seem possible that future versions
		of zlib may fix this bug and start accepting 8 and -8 as is.</p>
		<p>Conclusion: Avoid values 8 and -8 unless you know your zlib version supports them.</p>
	      </div>
          </item>
          <dt><code><anno>MemLevel</anno></code></dt>
          <item>
            <p>Specifies how much memory is to be allocated for the internal
              compression state: <code><anno>MemLevel</anno></code>=1 uses minimum
              memory but is slow and reduces compression ratio;
              <code><anno>MemLevel</anno></code>=9 uses maximum memory for optimal
              speed. Defaults to 8.</p>
          </item>
          <dt><code><anno>Strategy</anno></code></dt>
          <item>
            <p>Tunes the compression algorithm. Use the following values:</p>
            <list type="bulleted">
              <item><code>default</code> for normal data</item>
              <item><code>filtered</code> for data produced by a filter (or
                predictor)</item>
              <item><code>huffman_only</code> to force Huffman encoding only
                (no string match)</item>
              <item><code>rle</code> to limit match distances to one (run-length
                encoding)</item>
            </list>
            <p>Filtered data consists mostly of small values with a somewhat
              random distribution. In this case, the compression algorithm is
              tuned to compress them better. The effect of <code>filtered</code> is to
              force more Huffman coding and less string matching; it is somewhat
              intermediate between <code>default</code> and <code>huffman_only</code>.
              <code>rle</code> is designed to be almost as fast as
              <code>huffman_only</code>, but gives better compression for PNG image
              data.</p>
            <p><code><anno>Strategy</anno></code> affects only the compression ratio,
              but not the correctness of the compressed output even if it is not
              set appropriately.</p>
          </item>
        </taglist>
      </div>
    </div>

    <div class="function">
      <h3 id="deflateParams/3">deflateParams(Z, Level, Strategy) -&gt; ok</h3>
      <ul class="type_desc"><li><code>Z = <a href="#type-zstream" class="seealso">zstream()</a></code></li><li><code>Level = <a href="#type-zlevel" class="seealso">zlevel()</a></code></li><li><code>Strategy = <a href="#type-zstrategy" class="seealso">zstrategy()</a></code></li></ul>
      
      <div class="description">
        <p>Dynamically updates the compression level and compression
          strategy. The interpretation of <code><anno>Level</anno></code> and
          <code><anno>Strategy</anno></code> is as in
          <a href="#deflateInit/6" class="seealso"><code>deflateInit/6</code></a>.
          This can be
          used to switch between compression and straight copy of the
          input data, or to switch to a different kind of input data
          requiring a different strategy. If the compression level is
          changed, the input available so far is compressed with the
          old level (and can be flushed); the new level takes
          effect only at the next call of
          <a href="#deflate/3" class="seealso"><code>deflate/3</code></a>.</p>
        <p>Before the call of <code>deflateParams</code>, the stream state must be
          set as for a call of <code>deflate/3</code>, as the currently available
          input may have to be compressed and flushed.</p>
      </div>
    </div>

    <div class="function">
      <h3 id="deflateReset/1">deflateReset(Z) -&gt; ok</h3>
      <ul class="type_desc"><li><code>Z = <a href="#type-zstream" class="seealso">zstream()</a></code></li></ul>
      
      <div class="description">
        <p>Equivalent to
          <a href="#deflateEnd/1" class="seealso"><code>deflateEnd/1</code></a>
          followed by
          <a href="#deflateInit/1" class="seealso"><code>deflateInit/1,2,6</code></a>,
          but does not free and reallocate all the internal compression state.
          The stream keeps the same compression level and any other
          attributes.</p>
      </div>
    </div>

    <div class="function">
      <h3 id="deflateSetDictionary/2">deflateSetDictionary(Z, Dictionary) -&gt; Adler32</h3>
      <ul class="type_desc"><li><code>Z = <a href="#type-zstream" class="seealso">zstream()</a></code></li><li><code>Dictionary = iodata()</code></li><li><code>Adler32 = integer() &gt;= 0</code></li></ul>
      
      <div class="description">
        <p>Initializes the compression dictionary from the specified byte
          sequence without producing any compressed output.</p>
        <p>This function must be called immediately after
          <a href="#deflateInit/1" class="seealso"><code>deflateInit/1,2,6</code></a> or
          <a href="#deflateReset/1" class="seealso"><code>deflateReset/1</code></a>,
          before any call of
          <a href="#deflate/3" class="seealso"><code>deflate/3</code></a>.</p>
        <p>The compressor and decompressor must use the same dictionary (see
          <a href="#inflateSetDictionary/2" class="seealso">
          <code>inflateSetDictionary/2</code></a>).</p>
        <p>The Adler checksum of the dictionary is returned.</p>
      </div>
    </div>

    <div class="function">
      <h3 id="getBufSize/1">getBufSize(Z) -&gt; integer() &gt;= 0</h3>
      <ul class="type_desc"><li><code>Z = <a href="#type-zstream" class="seealso">zstream()</a></code></li></ul>
      
      <div class="description">
        <p>Gets the size of the intermediate buffer.</p>
        <div class="warning"><h2>Warning!</h2>
          <p>This function is deprecated and will be removed in a future
             release.</p>
        </div>
      </div>
    </div>

    <div class="function">
      <h3 id="gunzip/1">gunzip(Data) -&gt; Decompressed</h3>
      <ul class="type_desc"><li><code>Data = iodata()</code></li><li><code>Decompressed = binary()</code></li></ul>
      
      <div class="description">
        <p>Uncompresses data with gz headers and checksum.</p>
      </div>
    </div>

    <div class="function">
      <h3 id="gzip/1">gzip(Data) -&gt; Compressed</h3>
      <ul class="type_desc"><li><code>Data = iodata()</code></li><li><code>Compressed = binary()</code></li></ul>
      
      <div class="description">
        <p>Compresses data with gz headers and checksum.</p>
      </div>
    </div>

    <div class="function">
      <h3 id="inflate/2">inflate(Z, Data) -&gt; Decompressed</h3>
      <ul class="type_desc"><li><code>Z = <a href="#type-zstream" class="seealso">zstream()</a></code></li><li><code>Data = iodata()</code></li><li><code>Decompressed = iolist()</code></li></ul>
      
      <div class="description">
        <p>Equivalent to
           <a href="#inflate/3" class="seealso"><code>inflate(Z, Data, [])</code></a>
           </p>
      </div>
    </div>

    <div class="function">
      <h3 id="inflate/3">inflate(Z, Data, Options) -&gt; Decompressed</h3>
      <ul class="type_desc"><li><code>Z = <a href="#type-zstream" class="seealso">zstream()</a></code></li><li><code>Data = iodata()</code></li><li><code>Options = [{exception_on_need_dict, boolean()}]</code></li><li><code>Decompressed = <br>
&nbsp;&nbsp;&nbsp;&nbsp;iolist() |<br>
&nbsp;&nbsp;&nbsp;&nbsp;{need_dictionary,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Adler32 :: integer() &gt;= 0,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Output :: iolist()}</code></li></ul>
      
      <div class="description">
        <p>Decompresses as much data as possible. It can introduce some output
           latency (reading input without producing any output).</p>
        <p>Currently the only available option is
           <code>{exception_on_need_dict,boolean()}</code> which controls whether the
           function should throw an exception when a preset dictionary is
           required for decompression. When set to false, a
           <code>need_dictionary</code> tuple will be returned instead. See
           <a href="#inflateSetDictionary/2" class="seealso">
           <code>inflateSetDictionary/2</code></a> for details.</p>
        <div class="warning"><h2>Warning!</h2>
           <p>This option defaults to <code>true</code> for backwards compatibility
              but we intend to remove the exception behavior in a future
              release. New code that needs to handle dictionaries manually
              should always specify <code>{exception_on_need_dict,false}</code>.</p>
        </div>
      </div>
    </div>

    <div class="function">
      <h3 id="inflateChunk/1">inflateChunk(Z) -&gt; Decompressed | {more, Decompressed}</h3>
      <ul class="type_desc"><li><code>Z = <a href="#type-zstream" class="seealso">zstream()</a></code></li><li><code>Decompressed = iolist()</code></li></ul>
      
      <div class="description">
        <div class="warning"><h2>Warning!</h2>
          <p>This function is deprecated and will be removed in a future
             release. Use <a href="#safeInflate/2" class="seealso"><code>safeInflate/2</code>
             </a> instead.</p>
        </div>
        <p>Reads the next chunk of uncompressed data, initialized by
          <a href="#inflateChunk/2" class="seealso"><code>inflateChunk/2</code></a>.</p>
        <p>This function is to be repeatedly called, while it returns
          <code>{more, Decompressed}</code>.</p>
      </div>
    </div>

    <div class="function">
      <h3 id="inflateChunk/2">inflateChunk(Z, Data) -&gt; Decompressed | {more, Decompressed}</h3>
      <ul class="type_desc"><li><code>Z = <a href="#type-zstream" class="seealso">zstream()</a></code></li><li><code>Data = iodata()</code></li><li><code>Decompressed = iolist()</code></li></ul>
      
      <div class="description">
        <div class="warning"><h2>Warning!</h2>
          <p>This function is deprecated and will be removed in a future
             release. Use <a href="#safeInflate/2" class="seealso"><code>safeInflate/2</code>
             </a> instead.</p>
        </div>
        <p>Like <a href="#inflate/2" class="seealso"><code>inflate/2</code></a>,
           but decompresses no more data than will fit in the buffer configured
           through <a href="#setBufSize/2" class="seealso"><code>setBufSize/2</code>
           </a>. Is is useful when decompressing a stream with a high
           compression ratio, such that a small amount of compressed input can
           expand up to 1000 times.</p>
        <p>This function returns <code>{more, Decompressed}</code>, when there is
           more output available, and
           <a href="#inflateChunk/1" class="seealso"><code>inflateChunk/1</code></a>
           is to be used to read it.</p>
        <p>This function can introduce some output latency (reading input
           without producing any output).</p>
        <p>An exception will be thrown if a preset dictionary is required for
           further decompression. See
           <a href="#inflateSetDictionary/2" class="seealso">
           <code>inflateSetDictionary/2</code></a> for details.</p>
        <p>Example:</p>
        <pre class="sh_erlang">
walk(Compressed, Handler) -&gt;
    Z = zlib:open(),
    zlib:inflateInit(Z),
    % Limit single uncompressed chunk size to 512kb
    zlib:setBufSize(Z, 512 * 1024),
    loop(Z, Handler, zlib:inflateChunk(Z, Compressed)),
    zlib:inflateEnd(Z),
    zlib:close(Z).

loop(Z, Handler, {more, Uncompressed}) -&gt;
    Handler(Uncompressed),
    loop(Z, Handler, zlib:inflateChunk(Z));
loop(Z, Handler, Uncompressed) -&gt;
    Handler(Uncompressed).</pre>
      </div>
    </div>

    <div class="function">
      <h3 id="inflateEnd/1">inflateEnd(Z) -&gt; ok</h3>
      <ul class="type_desc"><li><code>Z = <a href="#type-zstream" class="seealso">zstream()</a></code></li></ul>
      
      <div class="description">
        <p>Ends the inflate session and cleans all data used. Notice
          that this function throws a <code>data_error</code> exception
          if no end of stream was found (meaning that not all data
          has been uncompressed).</p>
      </div>
    </div>

    <div class="function">
      <h3 id="inflateGetDictionary/1">inflateGetDictionary(Z) -&gt; Dictionary</h3>
      <ul class="type_desc"><li><code>Z = <a href="#type-zstream" class="seealso">zstream()</a></code></li><li><code>Dictionary = binary()</code></li></ul>
      
      <div class="description">
        <p>Returns the decompression dictionary currently in use
          by the stream. This function must be called between
          <a href="#inflateInit/1" class="seealso"><code>inflateInit/1,2</code></a>
          and <a href="#inflateEnd/1" class="seealso"><code>inflateEnd</code></a>.</p>
        <p>Only supported if ERTS was compiled with zlib &gt;= 1.2.8.</p>
      </div>
    </div>

    <div class="function">
      <h3 id="inflateInit/1">inflateInit(Z) -&gt; ok</h3>
      <ul class="type_desc"><li><code>Z = <a href="#type-zstream" class="seealso">zstream()</a></code></li></ul>
      
      <div class="description">
        <p>Initializes a zlib stream for decompression.</p>
      </div>
    </div>

    <div class="function">
      <h3 id="inflateInit/2">inflateInit(Z, WindowBits) -&gt; ok</h3>
      <ul class="type_desc"><li><code>Z = <a href="#type-zstream" class="seealso">zstream()</a></code></li><li><code>WindowBits = <a href="#type-zwindowbits" class="seealso">zwindowbits()</a></code></li></ul>
      
      <div class="description">
        <p>Initializes a decompression session on zlib stream.</p>
        <p><code><anno>WindowBits</anno></code> is the base two logarithm
          of the maximum window size (the size of the history buffer).
          It is to be in the range 8 through 15. Default to 15 if
          <a href="#inflateInit/1" class="seealso"><code>inflateInit/1</code></a>
          is used.</p>
        <p>If a compressed stream with a larger window size is specified as
          input, <a href="#inflate/2" class="seealso"><code>inflate/2</code></a>
          throws the <code>data_error</code> exception.</p>
        <p>A negative <code><anno>WindowBits</anno></code> value makes zlib
          ignore the zlib header (and checksum) from the stream. Notice that
          the zlib source mentions this only as a undocumented feature.</p>
      </div>
    </div>

    <div class="function">
      <h3 id="inflateReset/1">inflateReset(Z) -&gt; ok</h3>
      <ul class="type_desc"><li><code>Z = <a href="#type-zstream" class="seealso">zstream()</a></code></li></ul>
      
      <div class="description">
        <p>Equivalent to
          <a href="#inflateEnd/1" class="seealso"><code>inflateEnd/1</code></a>
          followed by
          <a href="#inflateInit/1" class="seealso"><code>inflateInit/1</code></a>,
          but does not free and reallocate all the internal decompression state.
          The stream will keep attributes that could have been set by
          <code>inflateInit/1,2</code>.</p>
      </div>
    </div>

    <div class="function">
      <h3 id="inflateSetDictionary/2">inflateSetDictionary(Z, Dictionary) -&gt; ok</h3>
      <ul class="type_desc"><li><code>Z = <a href="#type-zstream" class="seealso">zstream()</a></code></li><li><code>Dictionary = iodata()</code></li></ul>
      
      <div class="description">
        <p>Initializes the decompression dictionary from the specified
           uncompressed byte sequence. This function must be called as a
           response to an inflate operation (eg.
           <a href="#safeInflate/2" class="seealso"><code>safeInflate/2</code></a>)
           returning <code>{need_dictionary,Adler,Output}</code> or in the case of
           deprecated functions, throwing an
           <code>{'EXIT',{{need_dictionary,Adler},_StackTrace}}</code> exception.</p>
        <p>The dictionary chosen by the compressor can be determined from the
           Adler value returned or thrown by the call to the inflate function.
           The compressor and decompressor must use the same dictionary (See
           <a href="#deflateSetDictionary/2" class="seealso">
           <code>deflateSetDictionary/2</code></a>).</p>
        <p>After setting the dictionary the inflate operation should be
           retried without new input.</p>
        <p>Example:</p>
        <pre class="sh_erlang">
deprecated_unpack(Z, Compressed, Dict) -&gt;
     case catch zlib:inflate(Z, Compressed) of
          {'EXIT',{{need_dictionary,_DictID},_}} -&gt;
                 ok = zlib:inflateSetDictionary(Z, Dict),
                 Uncompressed = zlib:inflate(Z, []);
          Uncompressed -&gt;
                 Uncompressed
     end.

new_unpack(Z, Compressed, Dict) -&gt;
    case zlib:inflate(Z, Compressed, [{exception_on_need_dict, false}]) of
        {need_dictionary, _DictId, Output} -&gt;
            ok = zlib:inflateSetDictionary(Z, Dict),
            [Output | zlib:inflate(Z, [])];
        Uncompressed -&gt;
            Uncompressed
    end.</pre>
      </div>
    </div>

    <div class="function">
      <h3 id="open/0">open() -&gt; <a href="#type-zstream" class="seealso">zstream()</a></h3>
      
      <div class="description">
        <p>Opens a zlib stream.</p>
      </div>
    </div>

    <div class="function">
      <h3 id="safeInflate/2">safeInflate(Z, Data) -&gt; Result</h3>
      <ul class="type_desc"><li><code>Z = <a href="#type-zstream" class="seealso">zstream()</a></code></li><li><code>Data = iodata()</code></li><li><code>Result = <br>
&nbsp;&nbsp;&nbsp;&nbsp;{continue, Output :: iolist()} |<br>
&nbsp;&nbsp;&nbsp;&nbsp;{finished, Output :: iolist()} |<br>
&nbsp;&nbsp;&nbsp;&nbsp;{need_dictionary,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Adler32 :: integer() &gt;= 0,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Output :: iolist()}</code></li></ul>
      
      <div class="description">
        <p>Like <a href="#inflate/2" class="seealso"><code>inflate/2</code></a>,
           but returns once it has expanded beyond a small 
           implementation-defined threshold. It's useful when decompressing
           untrusted input which could have been maliciously crafted to expand
           until the system runs out of memory.</p>
        <p>This function returns <code>{continue | finished, Output}</code>, where
           <anno>Output</anno> is the data that was decompressed in this call.
           New input can be queued up on each call if desired, and the function
           will return <code>{finished, Output}</code> once all queued data has been
           decompressed.</p>
        <p>This function can introduce some output latency (reading
           input without producing any output).</p>
        <p>If a preset dictionary is required for further decompression, this
           function returns a <code>need_dictionary</code> tuple. See
           <a href="#inflateSetDictionary/2" class="seealso">
           <code>inflateSetDictionary/2</code></a>) for details.</p>
        <p>Example:</p>
        <pre class="sh_erlang">
walk(Compressed, Handler) -&gt;
    Z = zlib:open(),
    zlib:inflateInit(Z),
    loop(Z, Handler, zlib:safeInflate(Z, Compressed)),
    zlib:inflateEnd(Z),
    zlib:close(Z).

loop(Z, Handler, {continue, Output}) -&gt;
    Handler(Output),
    loop(Z, Handler, zlib:safeInflate(Z, []));
loop(Z, Handler, {finished, Output}) -&gt;
    Handler(Output).</pre>
      </div>
    </div>

    <div class="function">
      <h3 id="setBufSize/2">setBufSize(Z, Size) -&gt; ok</h3>
      <ul class="type_desc"><li><code>Z = <a href="#type-zstream" class="seealso">zstream()</a></code></li><li><code>Size = integer() &gt;= 0</code></li></ul>
      
      <div class="description">
        <p>Sets the intermediate buffer size.</p>
        <div class="warning"><h2>Warning!</h2>
          <p>This function is deprecated and will be removed in a future
             release.</p>
        </div>
      </div>
    </div>

    <div class="function">
      <h3 id="set_controlling_process/2">set_controlling_process(Z, Pid) -&gt; ok</h3>
      <ul class="type_desc"><li><code>Z = <a href="#type-zstream" class="seealso">zstream()</a></code></li><li><code>Pid = pid()</code></li></ul>
      
      <div class="description">
        <p>Changes the controlling process of <code><anno>Z</anno></code> to
           <code><anno>Pid</anno></code>, which must be a local process.</p>
      </div>
    </div>

    <div class="function">
      <h3 id="uncompress/1">uncompress(Data) -&gt; Decompressed</h3>
      <ul class="type_desc"><li><code>Data = iodata()</code></li><li><code>Decompressed = binary()</code></li></ul>
      
      <div class="description">
        <p>Uncompresses data with zlib headers and checksum.</p>
      </div>
    </div>

    <div class="function">
      <h3 id="unzip/1">unzip(Data) -&gt; Decompressed</h3>
      <ul class="type_desc"><li><code>Data = iodata()</code></li><li><code>Decompressed = binary()</code></li></ul>
      
      <div class="description">
        <p>Uncompresses data without zlib headers and checksum.</p>
      </div>
    </div>

    <div class="function">
      <h3 id="zip/1">zip(Data) -&gt; Compressed</h3>
      <ul class="type_desc"><li><code>Data = iodata()</code></li><li><code>Compressed = binary()</code></li></ul>
      
      <div class="description">
        <p>Compresses data without zlib headers and checksum.</p>
      </div>
    </div>
  </div>

      </div>
  </div>

    <script type="text/javascript">
      var CURRENT_ROOT = "../";
    </script>

    <script type="text/javascript" src="../jquery.js"></script>
    <script type="text/javascript" src="../erldocs_index.js"></script>
    <script type="text/javascript" src="../erldocs.js"></script>
  </body>
</html>
