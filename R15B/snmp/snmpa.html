<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="latin1" />
    <title>snmpa (snmp) -  - erldocs.com (Erlang Documentation)</title>
    <link rel="search" type="application/opensearchdescription+xml"
          title="erldocs" href="/search.xml">
    <link type="text/css" rel="stylesheet" href="../erldocs.css" />
  </head>
  <body>

    <div id="sidebar" class="inactive">
      <input type="text" id="search" autocomplete="off"
             placeholder="press TAB to search" />
      <ul id="results"> </ul>
    </div>

    <div id="content">
      <div style="margin:0px; padding:10px 20px;">
        
  
  <h1>snmpa</h1>
  <h2 class="modsummary">Interface Functions to the SNMP toolkit agent</h2>
  <div class="description">
    <p>The module <code>snmpa</code> contains interface functions to the 
      SNMP agent.</p>

    <span id="data_types"> </span>
  </div>

  <div class="section">
    <h4>DATA TYPES</h4>
    <pre class="sh_erlang">
oid() = [byte()] 
atl_type() = read | write | read_write
notification_delivery_info() = #snmpa_notification_delivery_info{}
    </pre>

    <p>The <code>oid()</code> type is used to represent an ASN.1 OBJECT IDENTIFIER. </p>

    <p>The record <code>snmpa_notification_delivery_info</code> contains the following fields: </p>
    <taglist>
      <dt><code>tag = term()</code></dt>
      <item>
        <p>A user defined identity representing this notification send 
          operation.</p>
      </item>
      <dt><code>mod = module()</code></dt>
      <item>
        <p>A module implementing the 
          <a href="snmpa_notification_delivery_info_receiver.html" class="seealso">snmpa_notification_delivery_info_receiver</a> 
          behaviour. The info functions of this module will be called at 
          various stages of delivery. </p>
      </item>
      <dt><code>extra = term()</code></dt>
      <item>
        <p>This is any extra info the user wants to have supplied 
          when the functions in the callback module is called. </p>
      </item>
    </taglist>
    
    <span id="add_agent_caps"> </span>
  </div>

  <div class="functions"><h4>Functions</h4><hr  />
    <div class="function">
      <h3 id="add_agent_caps/2">add_agent_caps(SysORID, SysORDescr) -&gt; SysORIndex</h3>
      
      <ul class="type">
        <li><code>SysORID = oid()</code></li>
        <li><code>SysORDescr = string()</code></li>
        <li><code>SysORIndex = integer()</code></li>
      </ul>
      <div class="description">
        <p>This function can be used to add an AGENT-CAPABILITY
          statement to the sysORTable in the agent.  The table is
          defined in the SNMPv2-MIB.</p>
        <span id="del_agent_caps"> </span>
      </div>
    </div>

    <div class="function">
      <h3 id="del_agent_caps/1">del_agent_caps(SysORIndex) -&gt; void()</h3>
      
      <ul class="type">
        <li><code>SysORIndex = integer()</code></li>
      </ul>
      <div class="description">
        <p>This function can be used to delete an AGENT-CAPABILITY
          statement to the sysORTable in the agent.  This table is
          defined in the SNMPv2-MIB. </p>

          <span id="get_agent_caps"> </span>
      </div>
    </div>

    <div class="function">
      <h3 id="get_agent_caps/0">get_agent_caps() -&gt; [[SysORIndex, SysORID, SysORDescr, SysORUpTime]]</h3>
      
      <ul class="type">
        <li><code>SysORIndex = integer()</code></li>
        <li><code>SysORId = oid()</code></li>
        <li><code>SysORDescr = string()</code></li>
        <li><code>SysORUpTime = integer()</code></li>
      </ul>
      <div class="description">
        <p>Returns all AGENT-CAPABILITY statements in the sysORTable
          in the agent.  This table is defined in the SNMPv2-MIB. </p>

        <span id="get"> </span>
      </div>
    </div>

    <div class="function">
      <h3 id="get/2">get(Agent, Vars) -&gt; Values | {error, Reason}</h3>
      <h3 id="get/3">get(Agent, Vars, Context) -&gt; Values | {error, Reason}</h3>
      
      <ul class="type">
        <li><code>Agent = pid() | atom()</code></li>
        <li><code>Vars = [oid()]</code></li>
        <li><code>Context = string()</code></li>
        <li><code>Values = [term()]</code></li>
        <li><code>Reason = {atom(), oid()}</code></li>
      </ul>
      <div class="description">
        <p>Performs a GET operation on the agent.  All loaded MIB
          objects are visible in this operation.  The agent calls the
          corresponding instrumentation functions just as if it was a
          GET request coming from a manager. </p>
        <p>Note that the request specific parameters (such as 
          <a href="#current_request_id" class="seealso">current_request_id</a>) 
          are not accessible for the instrumentation functions if this 
          function is used. </p>

          <span id="get_next"> </span>
      </div>
    </div>

    <div class="function">
      <h3 id="get_next/2">get_next(Agent, Vars) -&gt; Values | {error, Reason}</h3>
      <h3 id="get_next/3">get_next(Agent, Vars, Context) -&gt; Values | {error, Reason}</h3>
      
      <ul class="type">
        <li><code>Agent = pid() | atom()</code></li>
        <li><code>Vars = [oid()]</code></li>
        <li><code>Context = string()</code></li>
        <li><code>Values = [{oid(), term()}]</code></li>
        <li><code>Reason = {atom(), oid()}</code></li>
      </ul>
      <div class="description">
        <p>Performs a GET-NEXT operation on the agent.  All loaded MIB
          objects are visible in this operation.  The agent calls the
          corresponding instrumentation functions just as if it was a
          GET request coming from a manager. </p>
        <p>Note that the request specific parameters (such as 
          <code>snmpa:current_request_id/0</code> are not accessible for the 
          instrumentation functions if this function is used. </p>

        <span id="backup"> </span>
        </div>
    </div>

<div class="function">
      <h3 id="backup/1">backup(BackupDir) -&gt; ok | {error, Reason}</h3>
      <h3 id="backup/2">backup(Agent, BackupDir) -&gt; ok | {error, Reason}</h3>
      
      <ul class="type">
        <li><code>BackupDir = string()</code></li>
        <li><code>Agent = pid() | atom()</code></li>
      </ul>
      <div class="description">
        <p>Backup persistent/permanent data handled by the agent
          (such as local-db, mib-data and vacm). </p>
        <p>Data stored by mnesia is not handled. </p>
        <p>BackupDir cannot be identical to DbDir. </p>

        <span id="info"> </span>
      </div>
    </div>
    <div class="function">
      <h3 id="info/0">info() -&gt; [{Key, Value}]</h3>
      <h3 id="info/1">info(Agent) -&gt; [{Key, Value}]</h3>
      
      <ul class="type">
        <li><code>Agent = pid() | atom()</code></li>
      </ul>
      <div class="description">
        <p>Returns a list (a dictionary) containing information about
          the agent. Information includes loaded MIBs, registered
          sub-agents, some information about the memory allocation. </p>
        <p>As of version 4.4 the format of the info has been changed. 
          To convert the info to the old format, call the 
          <a href="#old_info_format" class="seealso">old_info_format</a> 
          function. </p>

        <span id="old_info_format"> </span>
      </div>
    </div>

    <div class="function">
      <h3 id="old_info_format/1">old_info_format(NewInfo) -&gt; OldInfo</h3>
      
      <ul class="type">
        <li><code>OldInfo = NewInfo = [{Key, Value}]</code></li>
      </ul>
      <div class="description">
        <p>As of version 4.4 the format of the info has been changed. 
          This function is used to convert to the old (pre-4.4) info 
          format. </p>

        <span id="load_mibs"> </span>
      </div>
    </div>

    <div class="function">
      <h3 id="load_mibs/1">load_mibs(Mibs) -&gt; ok | {error, Reason}</h3>
      <h3 id="load_mibs/2">load_mibs(Agent,Mibs) -&gt; ok | {error, Reason}</h3>
      
      <ul class="type">
        <li><code>Agent = pid() | atom()</code></li>
        <li><code>Mibs = [MibName]</code></li>
        <li><code>MibName = string()</code></li>
        <li><code>Reason = term()</code></li>
      </ul>
      <div class="description">
        <p>Loads <code>Mibs</code> into an agent.  If the agent cannot load
          all MIBs, it will indicate where loading was aborted.  The
          <code>MibName</code> is the name of the Mib, including the path to
          where the compiled mib is found.  For example,</p>
        <pre class="sh_erlang">
          Dir = code:priv_dir(my_app) ++ "/mibs/",
          snmpa:load_mibs(snmp_master_agent, [Dir ++ "MY-MIB"]).
        </pre>

        <span id="unload_mibs"> </span>
      </div>
    </div>

    <div class="function">
      <h3 id="unload_mibs/1">unload_mibs(Mibs) -&gt; ok | {error, Reason}</h3>
      <h3 id="unload_mibs/2">unload_mibs(Agent,Mibs) -&gt; ok | {error, Reason}</h3>
      
      <ul class="type">
        <li><code>Agent = pid() | atom()</code></li>
        <li><code>Mibs = [MibName]</code></li>
        <li><code>MibName = string()</code></li>
      </ul>
      <div class="description">
        <p>Unloads MIBs into an agent.  If it cannot unload all MIBs,
          it will indicate where unloading was aborted. </p>

        <span id="which_mibs"> </span>
      </div>
    </div>

    <div class="function">
      <h3 id="which_mibs/0">which_mibs() -&gt; Mibs</h3>
      <h3 id="which_mibs/1">which_mibs(Agent) -&gt; Mibs</h3>
      
      <ul class="type">
        <li><code>Agent = pid() | atom()</code></li>
        <li><code>Mibs = [{MibName, MibFile}]</code></li>
        <li><code>MibName = atom()</code></li>
        <li><code>MibFile = string()</code></li>
      </ul>
      <div class="description">
        <p>Retrieve the list of all the mibs loaded into this agent. Default 
          is the master agent. </p>
                    
        <span id="whereis_mib"> </span>
      </div>
    </div>

    <div class="function">
      <h3 id="whereis_mib/1">whereis_mib(MibName) -&gt; {ok, MibFile} | {error, Reason}</h3>
      <h3 id="whereis_mib/2">whereis_mib(Agent, MibName) -&gt; {ok, MibFile} | {error, Reason}</h3>
      
      <ul class="type">
        <li><code>Agent = pid() | atom()</code></li>
        <li><code>MibName = atom()</code></li>
        <li><code>MibFile = string()</code></li>
        <li><code>Reason = term()</code></li>
      </ul>
      <div class="description">
        <p>Get the full path to the (compiled) mib-file. </p>

        <span id="current_request_id"> </span>
        <span id="current_context"> </span>
        <span id="current_community"> </span>
        <span id="current_address"> </span>
      </div>
    </div>

    <div class="function">
      <h3 id="current_request_id/0">current_request_id() -&gt; {value, RequestId} | false</h3>
      <h3 id="current_context/0">current_context() -&gt; {value, Context} | false</h3>
      <h3 id="current_community/0">current_community() -&gt; {value, Community} | false</h3>
      <h3 id="current_address/0">current_address() -&gt; {value, Address} | false</h3>
      
      <ul class="type">
        <li><code>RequestId = integer()</code></li>
        <li><code>Context = string()</code></li>
        <li><code>Community = string()</code></li>
        <li><code>Address = term()</code></li>
      </ul>
      <div class="description">
        <p>Get the request-id, context, community and address of the 
          request currently being processed by the agent. </p>
        <p>Note that these functions is intended to be called by the 
          instrumentation functions and <em>only</em> if they are 
          executed in the context of the agent process (e.g. it does 
          not work if called from a spawned process).</p>

        <span id="enum_to_int"> </span>
      </div>
    </div>

    <div class="function">
      <h3 id="enum_to_int/2">enum_to_int(Name, Enum) -&gt; {value, Int} | false</h3>
      <h3 id="enum_to_int/3">enum_to_int(Db, Name, Enum) -&gt; {value, Int} | false</h3>
      
      <ul class="type">
        <li><code>Db   = term()</code></li>
        <li><code>Name = atom()</code></li>
        <li><code>Enum = atom()</code></li>
        <li><code>Int  = int()</code></li>
      </ul>
      <div class="description">
        <p>Converts the symbolic value <code>Enum</code> to the
          corresponding integer of the enumerated object or type
          <code>Name</code> in a MIB.  The MIB must be loaded. 
          </p>
        <p><code>false</code> is returned if the object or type is not
          defined in any loaded MIB, or if it does not define the
          symbolic value as enumerated.
          </p>
        <p><code>Db</code> is a reference to the symbolic store database 
          (retrieved by a call to <code>get_symbolic_store_db/0</code>). </p>

        <span id="int_to_enum"> </span>
      </div>
    </div>

    <div class="function">
      <h3 id="int_to_enum/2">int_to_enum(Name, Int) -&gt; {value, Enum} | false</h3>
      <h3 id="int_to_enum/3">int_to_enum(Db, Name, Int) -&gt; {value, Enum} | false</h3>
      
      <ul class="type">
        <li><code>Db   = term()</code></li>
        <li><code>Name = atom()</code></li>
        <li><code>Int  = int()</code></li>
        <li><code>Enum = atom()</code></li>
      </ul>
      <div class="description">
        <p>Converts the integer <code>Int</code> to the corresponding
          symbolic value of the enumerated object or type <code>Name</code> in
          a MIB.  The MIB must be loaded. 
          </p>
        <p><code>false</code> is returned if the object or type is not
          defined in any loaded MIB, or if it does not define the
          symbolic value as enumerated.
          </p>
        <p><code>Db</code> is a reference to the symbolic store database 
          (retrieved by a call to <code>get_symbolic_store_db/0</code>). </p>

        <span id="name_to_oid"> </span>
      </div>
    </div>

    <div class="function">
      <h3 id="name_to_oid/1">name_to_oid(Name) -&gt; {value, oid()} | false</h3>
      <h3 id="name_to_oid/2">name_to_oid(Db, Name) -&gt; {value, oid()} | false</h3>
      
      <ul class="type">
        <li><code>Db   = term()</code></li>
        <li><code>Name = atom()</code></li>
      </ul>
      <div class="description">
        <p>Looks up the OBJECT IDENTIFIER of a MIB object, given the
          symbolic name.  Note, the OBJECT IDENTIFIER is given for the
          object, not for an instance. </p>
        <p><code>false</code> is returned if the object is not defined in any
          loaded MIB. </p>
        <p><code>Db</code> is a reference to the symbolic store database 
          (retrieved by a call to <code>get_symbolic_store_db/0</code>). </p>

        <span id="oid_to_name"> </span>
      </div>
    </div>

    <div class="function">
      <h3 id="oid_to_name/1">oid_to_name(OID) -&gt; {value, Name} | false</h3>
      <h3 id="oid_to_name/2">oid_to_name(Db, OID) -&gt; {value, Name} | false</h3>
      
      <ul class="type">
        <li><code>Db   = term()</code></li>
        <li><code>OID  = oid()</code></li>
        <li><code>Name = atom()</code></li>
      </ul>
      <div class="description">
        <p>Looks up the symbolic name of a MIB object, given OBJECT
          IDENTIFIER. </p>
        <p><code>false</code> is returned if the object is not defined in any
          loaded MIB. </p>
        <p><code>Db</code> is a reference to the symbolic store database 
          (retrieved by a call to <code>get_symbolic_store_db/0</code>). </p>

        <span id="which_aliasnames"> </span>
      </div>
    </div>

    <div class="function">
      <h3 id="which_aliasnames/0">which_aliasnames() -&gt; Result</h3>
      
      <ul class="type">
        <li><code>Result = [atom()]</code></li>
      </ul>
      <div class="description">
        <p>Retrieve all alias-names known to the agent.</p>
        <span id="which_tables"> </span>
      </div>
    </div>

    <div class="function">
      <h3 id="which_tables/0">which_tables() -&gt; Result</h3>
      
      <ul class="type">
        <li><code>Result = [atom()]</code></li>
      </ul>
      <div class="description">
        <p>Retrieve all tables known to the agent.</p>

        <span id="which_variables"> </span>
      </div>
    </div>

    <div class="function">
      <h3 id="which_variables/0">which_variables() -&gt; Result</h3>
      
      <ul class="type">
        <li><code>Result = [atom()]</code></li>
      </ul>
      <div class="description">
        <p>Retrieve all variables known to the agent.</p>

        <span id="which_notifications"> </span>
      </div>
    </div>

    <div class="function">
      <h3 id="which_notifications/0">which_notifications() -&gt; Result</h3>
      
      <ul class="type">
        <li><code>Result = [{Name, MibName, Info}]</code></li>
        <li><code>Name = atom()</code></li>
        <li><code>MibName = atom()</code></li>
        <li><code>Info = term()</code></li>
      </ul>
      <div class="description">
        <p>Retrieve all notifications (and traps) known to the agent.</p>

        <span id="log_to_txt"> </span>
      </div>
    </div>

    <div class="function">
      <h3 id="log_to_txt/2">log_to_txt(LogDir, Mibs)</h3>
      <h3 id="log_to_txt/3">log_to_txt(LogDir, Mibs, OutFile) -&gt; ok | {error, Reason}</h3>
      <h3 id="log_to_txt/4">log_to_txt(LogDir, Mibs, OutFile, LogName) -&gt;  ok | {error, Reason}</h3>
      <h3 id="log_to_txt/5">log_to_txt(LogDir, Mibs, OutFile, LogName, LogFile) -&gt;  ok | {error, Reason}</h3>
      <h3 id="log_to_txt/6">log_to_txt(LogDir, Mibs, OutFile, LogName, LogFile, Start) -&gt;  ok | {error, Reason}</h3>
      <h3 id="log_to_txt/7">log_to_txt(LogDir, Mibs, OutFile, LogName, LogFile, Start, Stop)  -&gt; ok | {error, Reason}</h3>
      
      <ul class="type">
        <li><code>LogDir = string()</code></li>
        <li><code>Mibs = [MibName]</code></li>
        <li><code>MibName = string()</code></li>
        <li><code>OutFile = string()</code></li>
        <li><code>LogName = string()</code></li>
        <li><code>LogFile = string()</code></li>
        <li><code>Start = Stop = null | datetime() | {local_time,datetime()} |  {universal_time,datetime()} </code></li>
        <li><code>Reason = disk_log_open_error() | file_open_error() | term()</code></li>
        <li><code>disk_log_open_error() = {LogName, term()}</code></li>
        <li><code>file_open_error() = {OutFile, term()}</code></li>
      </ul>
      <div class="description">
        <p>Converts an Audit Trail Log to a readable text file. 
          <code>OutFile</code> defaults to "./snmpa_log.txt". 
          <code>LogName</code> defaults to "snmpa_log". 
          <code>LogFile</code> defaults to "snmpa.log". 
          See <a href="snmp.html#log_to_txt" class="seealso">snmp:log_to_txt</a> 
          for more info.</p>

        <span id="change_log_size"> </span>
      </div>
    </div>

    <div class="function">
      <h3 id="change_log_size/1">change_log_size(NewSize) -&gt; ok | {error, Reason}</h3>
      
      <ul class="type">
        <li><code>NewSize = {MaxBytes, MaxFiles}</code></li>
        <li><code>MaxBytes = integer()</code></li>
        <li><code>MaxFiles = integer()</code></li>
        <li><code>Reason = term()</code></li>
      </ul>
      <div class="description">
        <p>Changes the log size of the Audit Trail Log. The application must 
          be configured to use the audit trail log function. Please refer to 
          disk_log(3) in Kernel Reference Manual for a description of how to 
          change the log size. </p>
        <p>The change is permanent, as long as the log is not deleted. 
          That means, the log size is remembered across reboots. </p>

        <span id="set_log_type"> </span>
      </div>
    </div>

    <div class="function">
      <h3 id="set_log_type/1">set_log_type(NewType) -&gt; {ok, OldType} | {error, Reason}</h3>
      <h3 id="set_log_type/2">set_log_type(Agent, NewType) -&gt; {ok, OldType} | {error, Reason}</h3>
      
      <ul class="type">
        <li><code>NewType = OldType = atl_type()</code></li>
        <li><code>Agent = pid() | atom()</code></li>
        <li><code>Reason = term()</code></li>
      </ul>
      <div class="description">
        <p>Changes the run-time Audit Trail log type. </p>
        <p>Note that this has no effect on the application configuration as
          defined by configuration files, so a node restart will revert the 
          config to whatever is in those files. </p>
        <p>This function is primarily useful in testing/debugging 
          scenarios. </p>

        <span id="mib_of"> </span>
      </div>

    </div>

    <div class="function">
      <h3 id="mib_of/1">mib_of(Oid) -&gt; {ok, MibName} | {error, Reason}</h3>
      <h3 id="mib_of/2">mib_of(Agent, Oid) -&gt; {ok, MibName} | {error, Reason}</h3>
      
      <ul class="type">
        <li><code>Agent = pid() | atom()</code></li>
        <li><code>Oid = oid()</code></li>
        <li><code>MibName = atom()</code></li>
        <li><code>Reason = term()</code></li>
      </ul>
      <div class="description">
        <p>Finds the mib corresponding to the <code>Oid</code>. If it is a
          variable, the Oid must be 
          &lt;Oid for var&gt;.0 and if it is a table, Oid must be 
          &lt;table&gt;.&lt;entry&gt;.&lt;col&gt;.&lt;any&gt;</p>

        <span id="me_of"> </span>
      </div>
    </div>

    <div class="function">
      <h3 id="me_of/1">me_of(Oid) -&gt; {ok, Me} | {error, Reason}</h3>
      <h3 id="me_of/2">me_of(Agent, Oid) -&gt; {ok, Me} | {error, Reason}</h3>
      
      <ul class="type">
        <li><code>Agent = pid() | atom()</code></li>
        <li><code>Oid = oid()</code></li>
        <li><code>Me = #me{}</code></li>
        <li><code>Reason = term()</code></li>
      </ul>
      <div class="description">
        <p>Finds the mib entry corresponding to the <code>Oid</code>. If it is a
          variable, the Oid must be 
          &lt;Oid for var&gt;.0 and if it is a table, Oid must be 
          &lt;table&gt;.&lt;entry&gt;.&lt;col&gt;.&lt;any&gt;</p>

        <span id="invalidate_mibs_cache"> </span>
      </div>
    </div>

    <div class="function">
      <h3 id="invalidate_mibs_cache/0">invalidate_mibs_cache() -&gt; void()</h3>
      <h3 id="invalidate_mibs_cache/1">invalidate_mibs_cache(Agent) -&gt; void()</h3>
      
      <ul class="type">
        <li><code>Agent = pid() | atom()</code></li>
      </ul>
      <div class="description">
        <p>Invalidate the mib server cache. </p>
        <p>The entire contents of the cache will be deleted. </p>

        <span id="enable_mibs_cache"> </span>
      </div>
    </div>

    <div class="function">
      <h3 id="enable_mibs_cache/0">enable_mibs_cache() -&gt; void()</h3>
      <h3 id="enable_mibs_cache/1">enable_mibs_cache(Agent) -&gt; void()</h3>
      
      <ul class="type">
        <li><code>Agent = pid() | atom()</code></li>
      </ul>
      <div class="description">
        <p>Enable the mib server cache. </p>

        <span id="disable_mibs_cache"> </span>
      </div>
    </div>

    <div class="function">
      <h3 id="disable_mibs_cache/0">disable_mibs_cache() -&gt; void()</h3>
      <h3 id="disable_mibs_cache/1">disable_mibs_cache(Agent) -&gt; void()</h3>
      
      <ul class="type">
        <li><code>Agent = pid() | atom()</code></li>
      </ul>
      <div class="description">
        <p>Disable the mib server cache. </p>

        <span id="which_mibs_cache_size"> </span>
      </div>
    </div>

    <div class="function">
      <h3 id="which_mibs_cache_size/0">which_mibs_cache_size() -&gt; void()</h3>
      <h3 id="which_mibs_cache_size/1">which_mibs_cache_size(Agent) -&gt; void()</h3>
      
      <ul class="type">
        <li><code>Agent = pid() | atom()</code></li>
      </ul>
      <div class="description">
        <p>Retreive the size of the mib server cache. </p>

        <span id="gc_mibs_cache"> </span>
      </div>
    </div>

    <div class="function">
      <h3 id="gc_mibs_cache/0">gc_mibs_cache() -&gt; {ok, NumElementsGCed} | {error, Reason}</h3>
      <h3 id="gc_mibs_cache/1">gc_mibs_cache(Agent) -&gt; {ok, NumElementsGCed} | {error, Reason}</h3>
      <h3 id="gc_mibs_cache/1-1">gc_mibs_cache(Age) -&gt; {ok, NumElementsGCed} | {error, Reason}</h3>
      <h3 id="gc_mibs_cache/2">gc_mibs_cache(Agent, Age) -&gt; {ok, NumElementsGCed} | {error, Reason}</h3>
      <h3 id="gc_mibs_cache/2-1">gc_mibs_cache(Age, GcLimit) -&gt; {ok, NumElementsGCed} | {error, Reason}</h3>
      <h3 id="gc_mibs_cache/3">gc_mibs_cache(Agent, Age, GcLimit) -&gt; {ok, NumElementsGCed} | {error, Reason}</h3>
      
      <ul class="type">
        <li><code>Agent = pid() | atom()</code></li>
        <li><code>Age = integer() &gt; 0</code></li>
        <li><code>GcLimit = integer() &gt; 0 | infinity</code></li>
        <li><code>NumElementsGCed = integer() &gt;= 0</code></li>
        <li><code>Reason = term()</code></li>
      </ul>
      <div class="description">
        <p>Perform mib server cache gc. </p>
        <p>Manually performs a mib server cache gc. 
          This can be done regardless of the value of the 
          <code>autogc</code> option. 
          The <code>NumElementsGCed</code> value indicates how many 
          elements where actually removed from the cache. </p>

        <span id="enable_mibs_cache_autogc"> </span>
      </div>
    </div>

    <div class="function">
      <h3 id="enable_mibs_cache_autogc/0">enable_mibs_cache_autogc() -&gt; void()</h3>
      <h3 id="enable_mibs_cache_autogc/1">enable_mibs_cache_autogc(Agent) -&gt; void()</h3>
      
      <ul class="type">
        <li><code>Agent = pid() | atom()</code></li>
      </ul>
      <div class="description">
        <p>Enable automatic gc of the mib server cache. </p>

        <span id="disable_mibs_cache_autogc"> </span>
      </div>
    </div>

    <div class="function">
      <h3 id="disable_mibs_cache_autogc/0">disable_mibs_cache_autogc() -&gt; void()</h3>
      <h3 id="disable_mibs_cache_autogc/1">disable_mibs_cache_autogc(Agent) -&gt; void()</h3>
      
      <ul class="type">
        <li><code>Agent = pid() | atom()</code></li>
      </ul>
      <div class="description">
        <p>Disable automatic gc of the mib server cache. </p>

        <span id="update_mibs_cache_age"> </span>
      </div>
    </div>

    <div class="function">
      <h3 id="update_mibs_cache_age/1">update_mibs_cache_age(NewAge) -&gt; ok | {error, Reason}</h3>
      <h3 id="update_mibs_cache_age/2">update_mibs_cache_age(Agent, NewAge) -&gt; ok | {error, Reason}</h3>
      
      <ul class="type">
        <li><code>Agent = pid() | atom()</code></li>
        <li><code>NewAge = integer() &gt; 0</code></li>
        <li><code>Reason = term()</code></li>
      </ul>
      <div class="description">
        <p>Change the mib server cache <code>age</code> property. </p>

        <span id="update_mibs_cache_gclimit"> </span>
      </div>
    </div>

    <div class="function">
      <h3 id="update_mibs_cache_gclimit/1">update_mibs_cache_gclimit(NewGcLimit) -&gt; ok | {error, Reason}</h3>
      <h3 id="update_mibs_cache_gclimit/2">update_mibs_cache_gclimit(Agent, NewGCLimit) -&gt; ok | {error, Reason}</h3>
      
      <ul class="type">
        <li><code>Agent = pid() | atom()</code></li>
        <li><code>NewGcLimit = integer() &gt; 0 | infinity</code></li>
        <li><code>Reason = term()</code></li>
      </ul>
      <div class="description">
        <p>Change the mib server cache <code>gclimit</code> property. </p>

        <span id="register_notification_filter"> </span>
      </div>
    </div>


    <div class="function">
      <h3 id="register_notification_filter/3">register_notification_filter(Id, Mod, Data) -&gt; ok | {error, Reason}</h3>
      <h3 id="register_notification_filter/4">register_notification_filter(Agent, Id, Mod, Data) -&gt; ok | {error, Reason}</h3>
      <h3 id="register_notification_filter/4-1">register_notification_filter(Id, Mod, Data, Where) -&gt; ok | {error, Reason}</h3>
      <h3 id="register_notification_filter/5">register_notification_filter(Agent, Id, Mod, Data, Where) -&gt; ok | {error, Reason}</h3>
      
      <ul class="type">
        <li><code>Agent = pid() | atom()</code></li>
        <li><code>Id = filter_id()</code></li>
        <li><code>filter_id() = term()</code></li>
        <li><code>Mod = atom()</code></li>
        <li><code>Data = term()</code></li>
        <li><code>Where = filter_position()</code></li>
        <li><code>Reason = term()</code></li>
        <li><code>filter_position() = first | last | {insert_before, filter_id()} | {insert_after, filter_id()} </code></li>
      </ul>
      <div class="description">
        <p>Registers a notification filter.
          </p>
        <p><code>Mod</code> is a module implementing the 
          <code>snmpa_notification_filter</code> behaviour.</p>
        <p><code>Data</code> will be passed on to the filter when calling the
          functions of the behaviour.</p>

        <span id="unregister_notification_filter"> </span>
      </div>
    </div>

    <div class="function">
      <h3 id="unregister_notification_filter/1">unregister_notification_filter(Id) -&gt; ok | {error, Reason}</h3>
      <h3 id="unregister_notification_filter/2">unregister_notification_filter(Agent, Id) -&gt; ok | {error, Reason}</h3>
      
      <ul class="type">
        <li><code>Agent = pid() | atom()</code></li>
        <li><code>Id = filter_id()</code></li>
        <li><code>filter_id() = term()</code></li>
      </ul>
      <div class="description">
        <p>Unregister a notification filter. </p>

        <span id="which_notification_filter"> </span>
      </div>
    </div>

    <div class="function">
      <h3 id="which_notification_filter/0">which_notification_filter() -&gt; Filters</h3>
      <h3 id="which_notification_filter/1">which_notification_filter(Agent) -&gt; Filters</h3>
      
      <ul class="type">
        <li><code>Agent = pid() | atom()</code></li>
        <li><code>Filters = [filter_id()]</code></li>
        <li><code>filter_id() = term()</code></li>
      </ul>
      <div class="description">
        <p>List all notification filters in an agent.</p>

        <span id="set_request_limit"> </span>
      </div>
    </div>

   <div class="function">
      <h3 id="set_request_limit/1">set_request_limit(NewLimit) -&gt; {ok, OldLimit} | {error, Reason}</h3>
      <h3 id="set_request_limit/2">set_request_limit(Agent, NewLimit) -&gt; {ok, OldLimit} | {error, Reason}</h3>
      
      <ul class="type">
        <li><code>NewLimit = OldLimit = infinity | integer() &gt;= 0</code></li>
        <li><code>Agent = pid() | atom()</code></li>
        <li><code>Reason = term()</code></li>
      </ul>
      <div class="description">
        <p>Changes the request limit. </p>
        <p>Note that this has no effect on the application configuration as
          defined by configuration files, so a node restart will revert the 
          config to whatever is in those files. </p>
        <p>This function is primarily useful in load regulation 
          scenarios. </p>

        <span id="register_subagent"> </span>
      </div>
    </div>

    <div class="function">
      <h3 id="register_subagent/3">register_subagent(Agent, SubTreeOid, Subagent) -&gt; ok | {error, Reason}</h3>
      
      <ul class="type">
        <li><code>Agent = pid() | atom()</code></li>
        <li><code>SubTreeOid = oid()</code></li>
        <li><code>SubAgent = pid()</code></li>
      </ul>
      <div class="description">
        <p>Registers a sub-agent under a sub-tree of another agent. </p>
        <p>It is easy to make mistakes when registering sub-agents and
          this activity should be done carefully.  For example, a
          strange behaviour would result from the following
          configuration:</p>
        <pre class="sh_erlang">
snmp_agent:register_subagent(MAPid,[1,2,3,4],SA1),
snmp_agent:register_subagent(SA1,[1,2,3], SA2).
        </pre>
        <p><code>SA2</code> will not get requests starting with object
          identifier <code>[1,2,3]</code> since <code>SA1</code> does not. </p>

        <span id="unregister_subagent"> </span>
      </div>
    </div>

    <div class="function">
      <h3 id="unregister_subagent/2">unregister_subagent(Agent, SubagentOidOrPid) -&gt; ok | {ok, SubAgentPid} | {error, Reason}</h3>
      
      <ul class="type">
        <li><code>Agent = pid() | atom()</code></li>
        <li><code>SubTreeOidorPid = oid() | pid()</code></li>
      </ul>
      <div class="description">
        <p>Unregister a sub-agent.  If the second argument is a pid,
          then that sub-agent will be unregistered from all trees in
          <code>Agent</code>. </p>

          <span id="send_notification2"> </span>
      </div>
    </div>


    <div class="function">
      <h3 id="send_notification2/3">send_notification2(Agent, Notification, SendOpts) -&gt; void()</h3>
      
      <ul class="type">
        <li><code>Agent = pid() | atom()</code></li>
        <li><code>Notification = atom()</code></li>
        <li><code>SendOpts = [send_option()]</code></li>
        <li><code>send_option() = {receiver, receiver()} | {name, notify_name()} | {context, context_name()} | {varbinds, varbinds()} | {local_engine_id, string()} | {extra, extra_info()}</code></li>
        <li><code>receiver() = no_receiver | {tag(), tag_receiver()} | notification_delivery_info()</code></li>
        <li><code>tag() = term(()</code></li>
        <li><code>tag_receiver() = pid() | registered_name() | {Mod, Func, Args}</code></li>
        <li><code>registered_name() = atom()</code></li>
        <li><code>Mod = atom()</code></li>
        <li><code>Func = atom()</code></li>
        <li><code>Args = list()</code></li>
        <li><code>notify_name() = string()</code></li>
        <li><code>context_name() = string()</code></li>
        <li><code>varbinds() = [varbind()]</code></li>
        <li><code>varbind() = {variable(), value()} | {column(), row_index(), value()} | {oid(), value()}</code></li>
        <li><code>variable() = atom()</code></li>
        <li><code>value() = term()</code></li>
        <li><code>column() = atom()</code></li>
        <li><code>row_index() = [int()]</code></li>
        <li><code>extra_info() = term()</code></li>
      </ul>
      <div class="description">
        <p>Send the notification <code>Notification</code> to the management 
	targets defined for notify-name (<code>name</code>) in the 
	<code>snmpNotifyTable</code> in SNMP-NOTIFICATION-MIB from the 
	specified <code>context</code>. </p>

	<p>If no <code>name</code> is specified (or if it is <code>""</code>), the
	notification is sent to all management targets. </p>

	<p>If no <code>context</code> is specified, the default context, <code>""</code>, 
	is used. </p>

        <p>The send option <code>receiver</code> specifies where information
	about delivery of Inform-Requests should be sent.  The agent
	sends Inform-Requests and waits for acknowledgments from the
	management targets. 
	The <code>receiver</code> can have three values: </p>

	<list type="bulleted">
          <item>
            <p><code>no_receiver</code> - No information is delivered. </p>
	  </item>

          <item>
	    <p><code>notification_delivery_info()</code> - The information is 
	    delivered via a function call according to this data. See the 
	    <a href="#data_types" class="seealso">DATA TYPES</a> section 
	    above for details. </p>
	  </item>

          <item>
            <p><code>{tag(), tag_receiver()}</code> - The information is delivered 
	    either via messages or via a function call according to the value 
	    of <code>tag_receiver()</code>. </p>
	    <p>Delivery is done differently depending on the value
	    of <code>tag_receiver()</code>: </p>

	    <list>
	      <item>
		<p><code>pid() | registered_name()</code> - The info will be delivered in  
		the following messages: </p>
		<list>
		  <item>
		    <p><code>{snmp_targets, tag(), Addresses}</code></p>
		    <p>This informs the user which target addresses the 
		    notification was sent to. </p>
		  </item>
		  <item>
		    <p><code>{snmp_notification, tag(), {got_response, Address}}</code></p>
		    <p>This informs the user that this target address 
		    acknowledged the notification. </p>
		  </item>
		  <item>
		    <p><code>{snmp_notification, tag(), {no_response, Address}}</code></p>
		    <p>This informs the user that this target address 
		    did not acknowledge the notification. </p>
		  </item>
		</list>
		<p>The notification is sent as an Inform-Request to each 
		target address in <code>Addresses</code> and if there are no 
		targets for which an Inform-Request is sent, <code>Addresses</code> 
		is the empty list <code>[]</code>. </p>
		<p>The <code>tag_receiver()</code> will first be sent the 
		<code>snmp_targets</code> message, and then for each address in 
		<code>Addresses</code> list, one of the two <code>snmp_notification</code> 
		messages. </p>
	      </item>

	      <item>
		<p><code>{Mod, Func, Args}</code> - The info will be delivered via
		the function call: </p>
		<p><code>Mod:Func([Msg | Args])</code></p>
		<p>where <code>Msg</code> has the same content and purpose as the 
		messages descrived above.</p>
	      </item>

	    </list>
	  </item>
        </list>

	<div class="note"><h2>Note!</h2>
	  <p>The <code>extra</code> info is not normally interpreted by the agent, 
	  instead it is passed through to the 
	  <a href="snmp_agent_netif.html" class="seealso">net-if</a> process. It is 
	  up to the implementor of that process to make use of this data. </p>
	  <p>The version of net-if provided by this application makes no use
	  of this data, with one exception: 
	  Any tuple containing the atom 
	  <code>snmpa_default_notification_extra_info</code> 
	  may be used by the agent and is therefor <em>reserved</em>. </p>
	  <p>See the net-if incomming messages for sending a 
	  <a href="snmp_agent_netif.html#im_send_pdu" class="seealso">
	  trap</a> and 
	  <a href="snmp_agent_netif.html#im_send_pdu_req" class="seealso">
	  notification</a> for more info. </p>
	</div>

	<span id="send_notification"> </span>
      </div>
    </div>


    <div class="function">
      <h3 id="send_notification/3">send_notification(Agent, Notification, Receiver)</h3>
      <h3 id="send_notification/4">send_notification(Agent, Notification, Receiver, Varbinds)</h3>
      <h3 id="send_notification/5">send_notification(Agent, Notification, Receiver, NotifyName, Varbinds)</h3>
      <h3 id="send_notification/6">send_notification(Agent, Notification, Receiver, NotifyName, ContextName, Varbinds) -&gt; void() </h3>
      <h3 id="send_notification/7">send_notification(Agent, Notification, Receiver, NotifyName, ContextName, Varbinds, LocalEngineID) -&gt; void() </h3>
      
      <ul class="type">
        <li><code>Agent = pid() | atom()</code></li>
        <li><code>Notification = atom()</code></li>
        <li><code>Receiver = no_receiver | {Tag, Recv} | notification_delivery_info()</code></li>
        <li><code>Tag = term()</code></li>
        <li><code>Recv = receiver()</code></li>
        <li><code>receiver() = pid() | atom() | {Mod, Func, Args}</code></li>
        <li><code>Mod = atom()</code></li>
        <li><code>Func = atom()</code></li>
        <li><code>Args = list()</code></li>
        <li><code>NotifyName = string()</code></li>
        <li><code>ContextName = string()</code></li>
        <li><code>Varbinds = varbinds()</code></li>
        <li><code>varbinds() = [varbind()]</code></li>
        <li><code>varbind() = {Variable, Value} | {Column, RowIndex, Value} | {OID, Value}</code></li>
        <li><code>Variable = atom()</code></li>
        <li><code>Column = atom()</code></li>
        <li><code>OID = oid()</code></li>
        <li><code>Value = term()</code></li>
        <li><code>RowIndex = [int()]</code></li>
        <li><code>LocalEngineID = string()</code></li>
      </ul>
      <div class="description">
        <p>Sends the notification <code>Notification</code> to the
	management targets defined for <code>NotifyName</code> in the
	<code>snmpNotifyTable</code> in SNMP-NOTIFICATION-MIB from the
	specified context.  </p>
	<p>If no <code>NotifyName</code> is specified (or if it is <code>""</code>), 
	the notification is sent to all management targets 
	(<code>Addresses</code> below).  </p>
	<p>If no <code>ContextName</code> is specified, the default <code>""</code> 
	context is used. </p>

        <p>The parameter <code>Receiver</code> specifies where information
	about delivery of Inform-Requests should be sent.  The agent
	sends Inform-Requests and waits for acknowledgments from the
	managers. <code>Receiver</code> can have three values: </p>

	<list type="bulleted">
          <item>
            <p><code>no_receiver</code> - No information is delivered. </p>
	  </item>

          <item>
            <p><code>notification_delivery_info()</code> - The information is 
              delivered via a function call according to this data. See the 
              <a href="#data_types" class="seealso">DATA TYPES</a> section 
              above for details. </p>
	  </item>

          <item>
            <p><code>{Tag, Recv}</code> - The information is delivered either via 
	    messages or via a function call according to the value of 
	    <code>Recv</code>. </p>
	  </item>

        </list>


        <p>If <code>Receiver</code> has the value <code>{Tag, Recv}</code>, the delivery is
          done according to <code>Recv</code>: </p>

        <list>
          <item>
            <p><code>pid() | atom()</code> - The info will be delivered in  
              the following messages: </p>
            <list>
              <item>
                <p><code>{snmp_targets, Tag, Addresses}</code></p>
                <p>This inform the user which target addresses the 
                  notification was sent to. </p>
		  </item>
              <item>
                <p><code>{snmp_notification, Tag, {got_response, Address}}</code></p>
                <p>This informs the user that this target address 
                  acknowledged the notification. </p>
		  </item>
              <item>
                <p><code>{snmp_notification, Tag, {no_response, Address}}</code></p>
                <p>This informs the user that this target address 
                  did not acknowledge notification. </p>
		  </item>
		</list>
            <p>The notification is sent as an Inform-Request to each 
              target address in <code>Addresses</code> and if there are no 
              targets for which an Inform-Request is sent, <code>Addresses</code> 
              is the empty list <code>[]</code>. </p>
            <p>The <code>receiver</code> will first be sent the <code>snmp_targets</code> 
              message, and then for each address in <code>Addresses</code> list, 
              one of the two <code>snmp_notification</code> messages. </p>
	  </item>
          <item>
            <p><code>{Mod, Func, Args}</code> - The info will be delivered via
              the function call: </p>
            <p><code>Mod:Func([Msg | Args])</code></p>
            <p>where <code>Msg</code> has the same content and purpose as the 
              messages descrived above.</p>
	  </item>
	</list>

        <p><code>Address</code> is a management target address and <code>Addresses</code> is a 
          list of management target addresses. They are defined as followes: </p>

<pre class="sh_erlang">
        Addresses  = [address()]
        Address    = address()
        address()  = v1_address() | v3_address()
        v1_address() = {TDomain, TAddress}
        v3_address() = {{TDomain, TAddress}, V3MsgData}
        TDomain    = tdoamin()
        TAddress   = taddress()
        tdomain()  = The oid of snmpUDPDomain 
                     This is the only supported transport domain.
        taddress() = [A1, A2, A3, A4, P1, P3]
                     The 4 first bytes makes up the IP-address and the last 2,
                     the UDP-port number.
        V3MsgData  = v3_msg_data()
        v3_msg_data() = term()
</pre>

        <p>If <code>Receiver</code> is a <code>notification_delivery_info()</code> record,
          then the information about the notification delivery will be delivered 
          to the <code>receiver</code> via the callback functions defined by the 
          <a href="snmpa_notification_delivery_info_receiver.html" class="seealso">snmpa_notification_delivery_info_receiver</a> 
          behaviour according to the content of the <code>notification_delivery_info()</code> 
          record. </p>

        <p>The optional argument <code>Varbinds</code> defines
          values for the objects in the notification.  If no value is
          given for an object, the <code>Agent</code> performs a get-operation
          to retrieve the value.
          </p>
        <p><code>Varbinds</code> is a list of <code>Varbind</code>, where each
          <code>Varbind</code> is one of:
          </p>
        <list type="bulleted">
          <item><code>{Variable, Value}</code>, where <code>Variable</code> is the
           symbolic name of a scalar variable referred to in the notification
           specification.
          </item>
          <item><code>{Column, RowIndex, Value}</code>, where <code>Column</code>
           is the symbolic name of a column variable.
          <code>RowIndex</code> is a list of indices for the specified
           element.  If this is the case, the OBJECT IDENTIFIER sent
           in the notification is the <code>RowIndex</code> appended to the OBJECT
           IDENTIFIER for the table column. This is the OBJECT
           IDENTIFIER which specifies the element.
          </item>
          <item><code>{OID, Value}</code>, where <code>OID</code> is the OBJECT
           IDENTIFIER for an instance of an object, scalar variable,
           or column variable.
          </item>
        </list>
        <p>For example, to specify that <code>sysLocation</code> should have the
          value <code>"upstairs"</code> in the notification, we could use one of:
          </p>
        <list type="bulleted">
          <item><code>{sysLocation, "upstairs"}</code> or</item>
          <item><code>{[1,3,6,1,2,1,1,6,0], "upstairs"}</code> or</item>
          <item><code>{?sysLocation_instance, "upstairs"}</code> (provided
           that the generated <code>.hrl</code> file is included)</item>
        </list>

        <p>If a variable in the notification is a table element, the
          <code>RowIndex</code> for the element must be given in the
          <code>Varbinds</code> list. In this case, the OBJECT IDENTIFIER sent
          in the notification is the OBJECT IDENTIFIER that identifies this
          element.  This OBJECT IDENTIFIER could be used in a get
          operation later.
          </p>

        <p>This function is asynchronous, and does not return any
          information.  If an error occurs, <code>user_err/2</code> of the error
          report module is called and the notification is discarded.
          </p>

        <div class="note"><h2>Note!</h2>
          <p>Note that the use of the LocalEngineID argument is only intended 
            for special cases, if the agent is to "emulate" multiple EngineIDs!
            By default, the agent uses the value of <code>SnmpEngineID</code> 
            (see SNMP-FRAMEWORK-MIB). </p>
	</div>

        <p><code>ExtraInfo</code> is not normally used in any way by the agent. 
	It is intended to be passed along to the net-if process, which is
	a component that a user can implement themself. The users own net-if
	may then make use of ExtraInfo. The net-if provided with this 
	application does not process ExtraInfo. </p>
	<p>There is one exception. <em>Any</em> tuple containing the atom
	<code>snmpa_default_notification_extra_info</code> will, in this context,
	be considered belonging to this application, and may be processed
	by the agent. </p>

	<span id="discovery"> </span>
      </div>
    </div>


    <div class="function">
      <h3 id="discovery/2">discovery(TargetName, Notification) -&gt; {ok, ManagerEngineID} | {error, Reason}</h3>
      <h3 id="discovery/3">discovery(TargetName, Notification, Varbinds) -&gt; {ok, ManagerEngineID} | {error, Reason}</h3>
      <h3 id="discovery/3-1">discovery(TargetName, Notification, DiscoHandler) -&gt; {ok, ManagerEngineID} | {error, Reason}</h3>
      <h3 id="discovery/4">discovery(TargetName, Notification, ContextName, Varbinds) -&gt; {ok, ManagerEngineID} | {error, Reason}</h3>
      <h3 id="discovery/4-1">discovery(TargetName, Notification, Varbinds, DiscoHandler) -&gt; {ok, ManagerEngineID} | {error, Reason}</h3>
      <h3 id="discovery/5">discovery(TargetName, Notification, ContextName, Varbinds, DiscoHandler) -&gt; {ok, ManagerEngineID} | {error, Reason}</h3>
      <h3 id="discovery/6">discovery(TargetName, Notification, ContextName, Varbinds, DiscoHandler, ExtraInfo) -&gt; {ok, ManagerEngineID} | {error, Reason}</h3>
      
      <ul class="type">
        <li><code>TargetName = string()</code></li>
        <li><code>Notification = atom()</code></li>
        <li><code>ContextName = string() (defaults to "")</code></li>
        <li><code>Varbinds = varbinds()</code></li>
        <li><code>varbinds() = [varbind()]</code></li>
        <li><code>DiscoHandler = snmpa_discovery_handler()</code></li>
        <li><code>ExtraInfo = term()</code></li>
        <li><code>snmpa_discovery_handler() = Module implementing the snmpa_discovery_handler behaviour</code></li>
        <li><code>ManagerEngineID = string()</code></li>
        <li><code>varbind() = {Variable, Value} | {Column, RowIndex, Value} | {OID, Value}</code></li>
        <li><code>Variable = atom()</code></li>
        <li><code>Column = atom()</code></li>
        <li><code>OID = oid()</code></li>
        <li><code>Value = term()</code></li>
        <li><code>RowIndex = [int()]</code></li>
        <li><code>Reason = term()</code></li>
      </ul>
      <div class="description">
        <p>Initiate the discovery process with the manager identified by
          <code>TargetName</code> using the notification <code>Notification</code>. </p>

        <p>This function is synchronous, which means that it will return when
          the discovery process has been completed or failed. </p>

        <p>The <code>DiscoHandler</code> module is used during the discovery 
          process. See 
          <a href="snmpa_discovery_handler.html" class="seealso">discovery handler</a>
          for more info. </p>

        <p>The <code>ExtraInfo</code> argument is passed on to the callback functions
          of the <code>DiscoHandler</code>. </p>

        <div class="note"><h2>Note!</h2><p>If we are not at security-level <code>noAuthNoPriv</code>,
          this could be complicated, since the agent will then continue 
          with stage 2, before which the usm-related updates must be 
          done. </p></div>

        <div class="note"><h2>Note!</h2><p>The default discovery handler will require 
          additional actions by the caller and the discovery will not work
          if the security-level is higher then <code>noAuthNoPriv</code>. </p></div>

          <span id="convert_config"> </span>
      </div>
    </div>

    <div class="function">
      <h3 id="convert_config/1">convert_config(OldConfig) -&gt; AgentConfig</h3>
      
      <ul class="type">
        <li><code>OldConfig = list()</code></li>
        <li><code>AgentConfig = list()</code></li>
      </ul>
      <div class="description">
        <p>This off-line utility function can be used to convert
          the old snmp application config (pre snmp-4.0) to the 
          new snmp agent config (as of snmp-4.0).</p>
        <p>For information about the old config (<code>OldConfig</code>) 
          see the OTP R9C documentation.</p>
        <p>For information about the current agent config 
          (<code>AgentConfig</code>), see either
          the <a href="snmp_app.html" class="seealso">SNMP application</a> 
          part of the reference manual or the 
          <a href="snmp_config.html" class="seealso">Configuring the application</a> 
          chapter of the SNMP user's guide.</p>

        <span id="restart_worker"> </span>
      </div>
    </div>

    <div class="function">
      <h3 id="restart_worker/0">restart_worker() -&gt; void()</h3>
      <h3 id="restart_worker/1">restart_worker(Agent) -&gt; void()</h3>
      
      <ul class="type">
        <li><code>Agent = pid() | atom()</code></li>
      </ul>
      <div class="description">
        <p>Restart the worker process of a multi-threaded agent.</p>
        <p>This is a utility function, that can be useful when
          e.g. debugging instrumentation functions.</p>

        <span id="restart_set_worker"> </span>
      </div>
    </div>

    <div class="function">
      <h3 id="restart_set_worker/0">restart_set_worker() -&gt; void()</h3>
      <h3 id="restart_set_worker/1">restart_set_worker(Agent) -&gt; void()</h3>
      
      <ul class="type">
        <li><code>Agent = pid() | atom()</code></li>
      </ul>
      <div class="description">
        <p>Restart the set worker process of a multi-threaded agent.</p>
        <p>This is a utility function, that can be useful when
          e.g. debugging instrumentation functions.</p>

        <span id="print_mib_info"> </span>
      </div>
    </div>

    <div class="function">
      <h3 id="print_mib_info/0">print_mib_info() -&gt; void()</h3>
      
      <div class="description">
        <p>Prints the content of all the (snmp) tables and variables 
	for all mibs handled by the snmp agent. </p>

        <span id="print_mib_tables"> </span>
      </div>
    </div>

    <div class="function">
      <h3 id="print_mib_tables/0">print_mib_tables() -&gt; void()</h3>
      
      <div class="description">
        <p>Prints the content of all the (snmp) tables 
	for all mibs handled by the snmp agent. </p>

        <span id="print_mib_variables"> </span>
      </div>
    </div>

    <div class="function">
      <h3 id="print_mib_variables/0">print_mib_variables() -&gt; void()</h3>
      
      <div class="description">
        <p>Prints the content of all the (snmp) variables 
	for all mibs handled by the snmp agent. </p>

        <span id="verbosity"> </span>
      </div>
    </div>

    <div class="function">
      <h3 id="verbosity/2">verbosity(Ref,Verbosity) -&gt; void()</h3>
      
      <ul class="type">
        <li><code>Ref = pid() | sub_agents | master_agent | net_if | mib_server | symbolic_store | note_store | local_db</code></li>
        <li><code>Verbosity = verbosity() | {subagents, verbosity()}</code></li>
        <li><code>verbosity() = silence | info | log | debug | trace </code></li>
      </ul>
      <div class="description">
        <p>Sets verbosity for the designated process. For the lowest 
          verbosity <code>silence</code>, nothing is printed. The higher the
          verbosity, the more is printed. </p>
      </div>
    </div>
  </div>

  <div class="section">
    <h4>See Also</h4>
    <p>calendar(3), erlc(1) </p>
  </div>

  

      </div>
      <div id="funwrapper">
        <a id="viewfuns">View Functions</a>
        <ul id="funs"><li><a href="#add_agent_caps/2">add_agent_caps/2</a></li><li><a href="#del_agent_caps/1">del_agent_caps/1</a></li><li><a href="#get_agent_caps/0">get_agent_caps/0</a></li><li><a href="#get/2">get/2</a></li><li><a href="#get/3">get/3</a></li><li><a href="#get_next/2">get_next/2</a></li><li><a href="#get_next/3">get_next/3</a></li><li><a href="#backup/1">backup/1</a></li><li><a href="#backup/2">backup/2</a></li><li><a href="#info/0">info/0</a></li><li><a href="#info/1">info/1</a></li><li><a href="#old_info_format/1">old_info_format/1</a></li><li><a href="#load_mibs/1">load_mibs/1</a></li><li><a href="#load_mibs/2">load_mibs/2</a></li><li><a href="#unload_mibs/1">unload_mibs/1</a></li><li><a href="#unload_mibs/2">unload_mibs/2</a></li><li><a href="#which_mibs/0">which_mibs/0</a></li><li><a href="#which_mibs/1">which_mibs/1</a></li><li><a href="#whereis_mib/1">whereis_mib/1</a></li><li><a href="#whereis_mib/2">whereis_mib/2</a></li><li><a href="#current_request_id/0">current_request_id/0</a></li><li><a href="#current_context/0">current_context/0</a></li><li><a href="#current_community/0">current_community/0</a></li><li><a href="#current_address/0">current_address/0</a></li><li><a href="#enum_to_int/2">enum_to_int/2</a></li><li><a href="#enum_to_int/3">enum_to_int/3</a></li><li><a href="#int_to_enum/2">int_to_enum/2</a></li><li><a href="#int_to_enum/3">int_to_enum/3</a></li><li><a href="#name_to_oid/1">name_to_oid/1</a></li><li><a href="#name_to_oid/2">name_to_oid/2</a></li><li><a href="#oid_to_name/1">oid_to_name/1</a></li><li><a href="#oid_to_name/2">oid_to_name/2</a></li><li><a href="#which_aliasnames/0">which_aliasnames/0</a></li><li><a href="#which_tables/0">which_tables/0</a></li><li><a href="#which_variables/0">which_variables/0</a></li><li><a href="#which_notifications/0">which_notifications/0</a></li><li><a href="#log_to_txt/2">log_to_txt/2</a></li><li><a href="#log_to_txt/3">log_to_txt/3</a></li><li><a href="#log_to_txt/4">log_to_txt/4</a></li><li><a href="#log_to_txt/5">log_to_txt/5</a></li><li><a href="#log_to_txt/6">log_to_txt/6</a></li><li><a href="#log_to_txt/7">log_to_txt/7</a></li><li><a href="#change_log_size/1">change_log_size/1</a></li><li><a href="#set_log_type/1">set_log_type/1</a></li><li><a href="#set_log_type/2">set_log_type/2</a></li><li><a href="#mib_of/1">mib_of/1</a></li><li><a href="#mib_of/2">mib_of/2</a></li><li><a href="#me_of/1">me_of/1</a></li><li><a href="#me_of/2">me_of/2</a></li><li><a href="#invalidate_mibs_cache/0">invalidate_mibs_cache/0</a></li><li><a href="#invalidate_mibs_cache/1">invalidate_mibs_cache/1</a></li><li><a href="#enable_mibs_cache/0">enable_mibs_cache/0</a></li><li><a href="#enable_mibs_cache/1">enable_mibs_cache/1</a></li><li><a href="#disable_mibs_cache/0">disable_mibs_cache/0</a></li><li><a href="#disable_mibs_cache/1">disable_mibs_cache/1</a></li><li><a href="#which_mibs_cache_size/0">which_mibs_cache_size/0</a></li><li><a href="#which_mibs_cache_size/1">which_mibs_cache_size/1</a></li><li><a href="#gc_mibs_cache/0">gc_mibs_cache/0</a></li><li><a href="#gc_mibs_cache/1">gc_mibs_cache/1</a></li><li><a href="#gc_mibs_cache/1-1">gc_mibs_cache/1-1</a></li><li><a href="#gc_mibs_cache/2">gc_mibs_cache/2</a></li><li><a href="#gc_mibs_cache/2-1">gc_mibs_cache/2-1</a></li><li><a href="#gc_mibs_cache/3">gc_mibs_cache/3</a></li><li><a href="#enable_mibs_cache_autogc/0">enable_mibs_cache_autogc/0</a></li><li><a href="#enable_mibs_cache_autogc/1">enable_mibs_cache_autogc/1</a></li><li><a href="#disable_mibs_cache_autogc/0">disable_mibs_cache_autogc/0</a></li><li><a href="#disable_mibs_cache_autogc/1">disable_mibs_cache_autogc/1</a></li><li><a href="#update_mibs_cache_age/1">update_mibs_cache_age/1</a></li><li><a href="#update_mibs_cache_age/2">update_mibs_cache_age/2</a></li><li><a href="#update_mibs_cache_gclimit/1">update_mibs_cache_gclimit/1</a></li><li><a href="#update_mibs_cache_gclimit/2">update_mibs_cache_gclimit/2</a></li><li><a href="#register_notification_filter/3">register_notification_filter/3</a></li><li><a href="#register_notification_filter/4">register_notification_filter/4</a></li><li><a href="#register_notification_filter/4-1">register_notification_filter/4-1</a></li><li><a href="#register_notification_filter/5">register_notification_filter/5</a></li><li><a href="#unregister_notification_filter/1">unregister_notification_filter/1</a></li><li><a href="#unregister_notification_filter/2">unregister_notification_filter/2</a></li><li><a href="#which_notification_filter/0">which_notification_filter/0</a></li><li><a href="#which_notification_filter/1">which_notification_filter/1</a></li><li><a href="#set_request_limit/1">set_request_limit/1</a></li><li><a href="#set_request_limit/2">set_request_limit/2</a></li><li><a href="#register_subagent/3">register_subagent/3</a></li><li><a href="#unregister_subagent/2">unregister_subagent/2</a></li><li><a href="#send_notification2/3">send_notification2/3</a></li><li><a href="#send_notification/3">send_notification/3</a></li><li><a href="#send_notification/4">send_notification/4</a></li><li><a href="#send_notification/5">send_notification/5</a></li><li><a href="#send_notification/6">send_notification/6</a></li><li><a href="#send_notification/7">send_notification/7</a></li><li><a href="#discovery/2">discovery/2</a></li><li><a href="#discovery/3">discovery/3</a></li><li><a href="#discovery/3-1">discovery/3-1</a></li><li><a href="#discovery/4">discovery/4</a></li><li><a href="#discovery/4-1">discovery/4-1</a></li><li><a href="#discovery/5">discovery/5</a></li><li><a href="#discovery/6">discovery/6</a></li><li><a href="#convert_config/1">convert_config/1</a></li><li><a href="#restart_worker/0">restart_worker/0</a></li><li><a href="#restart_worker/1">restart_worker/1</a></li><li><a href="#restart_set_worker/0">restart_set_worker/0</a></li><li><a href="#restart_set_worker/1">restart_set_worker/1</a></li><li><a href="#print_mib_info/0">print_mib_info/0</a></li><li><a href="#print_mib_tables/0">print_mib_tables/0</a></li><li><a href="#print_mib_variables/0">print_mib_variables/0</a></li><li><a href="#verbosity/2">verbosity/2</a></li></ul>
      </div>
    </div>

    <script type="text/javascript">
      var CURRENT_ROOT = "../";
    </script>

    <script type="text/javascript" src="../jquery.js"></script>
    <script type="text/javascript" src="../erldocs_index.js"></script>
    <script type="text/javascript" src="../erldocs.js"></script>

    <script type="text/javascript">
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-59760-14']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script');
        ga.src = ('https:' == document.location.protocol ?
          'https://ssl' : 'http://www') +
          '.google-analytics.com/ga.js';
        ga.setAttribute('async', 'true');
        document.documentElement.firstChild.appendChild(ga);
      })();
    </script>
  </body>
</html>

