<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="latin1" />
    <title>mnesia_registry (mnesia) -  - erldocs.com (Erlang Documentation)</title>
    <link rel="search" type="application/opensearchdescription+xml"
          title="erldocs" href="/search.xml">
    <link type="text/css" rel="stylesheet" href="../erldocs.css" />
  </head>
  <body>

    <div id="sidebar" class="inactive">
      <input type="text" id="search" autocomplete="off"
             placeholder="press TAB to search" />
      <ul id="results"> </ul>
    </div>

    <div id="content">
      <div style="margin:0px; padding:10px 20px;">
        
  
  <h1>mnesia_registry</h1>
  <h2 class="modsummary">Dump support for registries in erl_interface. </h2>
  <div class="description">
    <p>The module <code>mnesia_registry</code> is usually  part of
      <code>erl_interface</code>, but for the time being, it is a part of the
      Mnesia application.
      </p>
    <p><code>mnesia_registry</code> is mainly an module intended for
      internal usage within OTP, but it has two functions that
      are exported for public use.
      </p>
    <p>On C-nodes <code>erl_interface</code> has support for registry
      tables. These reside in RAM on the C-node but they may also be
      dumped into Mnesia tables. By default, the dumping of registry
      tables via <code>erl_interface</code> causes a corresponding Mnesia
      table to be created with <code>mnesia_registry:create_table/1</code>
      if necessary.
      </p>
    <p>The tables that are created with these functions can be
      administered as all other Mnesia tables. They may be included in
      backups or replicas may be added etc. The tables are in fact
      normal Mnesia tables owned by the user of the corresponding
      <code>erl_interface</code> registries.
      </p>
  </div>
  <div class="functions"><h4>Functions</h4><hr  />
    <div class="function">
      <h3 id="create_table/1">create_table(Tab) -&gt; ok | exit(Reason)</h3>
      
      <div class="description">
        <p>This is a wrapper function for
          <code>mnesia:create_table/2</code> which creates a table (if there is no existing table)
          with an appropriate set of <code>attributes</code>. The table will
          only reside on the local node and its storage type will be
          the same as the <code>schema</code> table on the local
          node, ie. <code>{ram_copies,[node()]}</code> or
          <code>{disc_copies,[node()]}</code>.
          </p>
        <p>It is this function that is used by <code>erl_interface</code> to
          create the Mnesia table if it did not already exist.</p>
      </div>
    </div>
    <div class="function">
      <h3 id="create_table/2">create_table(Tab, TabDef) -&gt; ok | exit(Reason)</h3>
      
      <div class="description">
        <p>This is a wrapper function for
          <code>mnesia:create_table/2</code> which creates a table (if there is no existing table)
          with an appropriate set of <code>attributes</code>. The attributes
          and <code>TabDef</code> are forwarded to
          <code>mnesia:create_table/2</code>.  For example, if the table should
          reside as <code>disc_only_copies</code> on all nodes a call would
          look like:</p>
        <pre class="sh_erlang">
          TabDef = [{{disc_only_copies, node()|nodes()]}],
          mnesia_registry:create_table(my_reg, TabDef)
        </pre>
      </div>
    </div>
  </div>

  <div class="section">
    <h4>See Also</h4>
    <p>mnesia(3), erl_interface(3)
      </p>
  </div>
  

      </div>
      <div id="funwrapper">
        <a id="viewfuns">View Functions</a>
        <ul id="funs"><li><a href="#create_table/1">create_table/1</a></li><li><a href="#create_table/2">create_table/2</a></li></ul>
      </div>
    </div>

    <script type="text/javascript">
      var CURRENT_ROOT = "../";
    </script>

    <script type="text/javascript" src="../jquery.js"></script>
    <script type="text/javascript" src="../erldocs_index.js"></script>
    <script type="text/javascript" src="../erldocs.js"></script>

    <script type="text/javascript">
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-59760-14']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script');
        ga.src = ('https:' == document.location.protocol ?
          'https://ssl' : 'http://www') +
          '.google-analytics.com/ga.js';
        ga.setAttribute('async', 'true');
        document.documentElement.firstChild.appendChild(ga);
      })();
    </script>
  </body>
</html>

