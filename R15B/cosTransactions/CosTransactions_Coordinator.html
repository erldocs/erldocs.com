<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="latin1" />
    <title>CosTransactions_Coordinator (cosTransactions) -  - erldocs.com (Erlang Documentation)</title>
    <link rel="search" type="application/opensearchdescription+xml"
          title="erldocs" href="/search.xml">
    <link type="text/css" rel="stylesheet" href="../erldocs.css" />
  </head>
  <body>

    <div id="sidebar" class="inactive">
      <input type="text" id="search" autocomplete="off"
             placeholder="press TAB to search" />
      <ul id="results"> </ul>
    </div>

    <div id="content">
      <div style="margin:0px; padding:10px 20px;">
        
  
  <h1>CosTransactions_Coordinator</h1>
  <h2 class="modsummary">This module implements the OMG CosTransactions::Coordinator interface.</h2>
  <div class="description">
    <p>To get access to the record definitions for the structures use:      <br  />
<code>-include_lib("cosTransactions/include/CosTransactions.hrl").</code></p>
  </div>
  <div class="functions"><h4>Functions</h4><hr  />
    <div class="function">
      <h3 id="create_subtransaction/1">create_subtransaction(Coordinator) -&gt; Control</h3>
      
      <ul class="type">
        <li><code>Coordinator = #objref</code></li>
        <li><code>Control = #objref</code></li>
      </ul>
      <div class="description">
        <p>A new subtransaction is created whose parent is the Coordinator argument.</p>
        <p>Raises exception:</p>
        <list type="bulleted">
          <item>'SubtransactionsUnavailable' - if nested transactions are not supported.</item>
          <item>'Inactive' - if target transaction has already been prepared.</item>
        </list>
      </div>
    </div>
    <div class="function">
      <h3 id="get_transaction_name/1">get_transaction_name(Coordinator) -&gt; Name</h3>
      
      <ul class="type">
        <li><code>Coordinator = #objref</code></li>
        <li><code>Name = string() of type "oe_name@machine_type_timestamp"</code></li>
      </ul>
      <div class="description">
        <p>Returns a printable string, which describe the transaction. The main purpose is to support debugging.</p>
      </div>
    </div>
    <div class="function">
      <h3 id="get_parent_status/1">get_parent_status(Coordinator) -&gt; Status</h3>
      
      <ul class="type">
        <li><code>Coordinator = #objref</code></li>
        <li><code>Status = atom()</code></li>
      </ul>
      <div class="description">
        <p>Returns the status of the parent transaction
          associated with the target object. If the target object is a top-level
          transaction this operation is equivalent to <code>get_status/1</code> operation. </p>
        <p>Possible Status replies:</p>
        <list type="bulleted">
          <item>'StatusCommitted'</item>
          <item>'StatusCommitting'</item>
          <item>'StatusMarkedRollback'</item>
          <item>'StatusRollingBack'</item>
          <item>'StatusRolledBack'</item>
          <item>'StatusActive'</item>
          <item>'StatusPrepared'</item>
          <item>'StatusUnknown'</item>
          <item>'StatusNoTransaction'</item>
          <item>'StatusPreparing'</item>
        </list>
      </div>
    </div>
    <div class="function">
      <h3 id="get_status/1">get_status(Coordinator) -&gt; Status</h3>
      
      <ul class="type">
        <li><code>Coordinator = #objref</code></li>
        <li><code>Status = atom()</code></li>
      </ul>
      <div class="description">
        <p>Returns the status of the transaction associated with the target object.</p>
      </div>
    </div>
    <div class="function">
      <h3 id="get_top_level_status/1">get_top_level_status(Coordinator) -&gt; Status</h3>
      
      <ul class="type">
        <li><code>Coordinator = #objref</code></li>
        <li><code>Status = atom()</code></li>
      </ul>
      <div class="description">
        <p>Returns the status of the top-level transaction associated with the target object.</p>
      </div>
    </div>
    <div class="function">
      <h3 id="hash_top_level_tran/1">hash_top_level_tran(Coordinator) -&gt; Return</h3>
      
      <ul class="type">
        <li><code>Coordinator = #objref</code></li>
        <li><code>Return = integer()</code></li>
      </ul>
      <div class="description">
        <p>Returns a hash code for the top-level transaction 
          associated with the target object. Equals the operation
          <code>hash_transaction/1</code> if the target object is a top-level transaction.</p>
      </div>
    </div>
    <div class="function">
      <h3 id="hash_transaction/1">hash_transaction(Coordinator) -&gt; Return</h3>
      
      <ul class="type">
        <li><code>Coordinator = #objref</code></li>
        <li><code>Return = integer()</code></li>
      </ul>
      <div class="description">
        <p>Returns a hash code for the transaction associated with the target object.</p>
      </div>
    </div>
    <div class="function">
      <h3 id="is_descendant_transaction/2">is_descendant_transaction(Coordinator, OtherCoordinator) -&gt; Return</h3>
      
      <ul class="type">
        <li><code>Coordinator = #objref</code></li>
        <li><code>OtherCoordinator = #objref</code></li>
        <li><code>Return = Boolean</code></li>
      </ul>
      <div class="description">
        <p>Returns true if the transaction associated with the target object is a 
          descendant of the transaction associated with the parameter object.</p>
      </div>
    </div>
    <div class="function">
      <h3 id="is_same_transaction/2">is_same_transaction(Coordinator, OtherCoordinator) -&gt; Return</h3>
      
      <ul class="type">
        <li><code>Coordinator = #objref</code></li>
        <li><code>OtherCoordinator = #objref</code></li>
        <li><code>Return = Boolean</code></li>
      </ul>
      <div class="description">
        <p>Returns true if the transaction associated with the target object is 
          related to the transaction associated with the parameter object.</p>
      </div>
    </div>
    <div class="function">
      <h3 id="is_top_level_transaction/1">is_top_level_transaction(Coordinator) -&gt; Return</h3>
      
      <ul class="type">
        <li><code>Coordinator = #objref</code></li>
        <li><code>Return = Boolean</code></li>
      </ul>
      <div class="description">
        <p>Returns true if the transaction associated with the target object is 
          a top-level transaction.</p>
      </div>
    </div>
    <div class="function">
      <h3 id="register_resource/2">register_resource(Coordinator, Resource) -&gt; RecoveryCoordinator</h3>
      
      <ul class="type">
        <li><code>Coordinator = #objref</code></li>
        <li><code>Resource = #objref</code></li>
        <li><code>RecoveryCoordinator = #objref</code></li>
      </ul>
      <div class="description">
        <p>This operation registers the parameter <code>Resource</code> object as a participant in the
          transaction associated with the target object. The <code>RecoveryCoordinator</code> returned
          by this operation can be used by this Resource during recovery.</p>
        <div class="note"><h2>Note!</h2>
          <p>The Resources will be called in FIFO-order when preparing or committing.
            Hence, be sure to register the Resources in the correct order.</p>
        </div>
        <p>Raises exception:</p>
        <list type="bulleted">
          <item>'Inactive' - if target transaction has already been prepared.</item>
        </list>
      </div>
    </div>
    <div class="function">
      <h3 id="register_subtran_aware/2">register_subtran_aware(Coordinator, SubtransactionAwareResource) -&gt; Return</h3>
      
      <ul class="type">
        <li><code>Coordinator = #objref</code></li>
        <li><code>Return = ok</code></li>
      </ul>
      <div class="description">
        <p>This operation registers the parameter <code>SubtransactionAwareResource</code> object such that
          it will be notified when the transaction, associated wit the target object, 
          has committed or rolled back.</p>
        <div class="note"><h2>Note!</h2>
          <p>The Resources will be called in FIFO-order.
            Hence, be sure to register the Resources in the correct order.</p>
        </div>
      </div>
    </div>
    <div class="function">
      <h3 id="rollback_only/1">rollback_only(Coordinator) -&gt; Return</h3>
      
      <ul class="type">
        <li><code>Coordinator = #objref</code></li>
        <li><code>Return = ok</code></li>
      </ul>
      <div class="description">
        <p>The transaction associated with the target object is modified so the only
          possible outcome is to rollback the transaction.</p>
      </div>
    </div>
  </div>
  

      </div>
      <div id="funwrapper">
        <a id="viewfuns">View Functions</a>
        <ul id="funs"><li><a href="#create_subtransaction/1">create_subtransaction/1</a></li><li><a href="#get_transaction_name/1">get_transaction_name/1</a></li><li><a href="#get_parent_status/1">get_parent_status/1</a></li><li><a href="#get_status/1">get_status/1</a></li><li><a href="#get_top_level_status/1">get_top_level_status/1</a></li><li><a href="#hash_top_level_tran/1">hash_top_level_tran/1</a></li><li><a href="#hash_transaction/1">hash_transaction/1</a></li><li><a href="#is_descendant_transaction/2">is_descendant_transaction/2</a></li><li><a href="#is_same_transaction/2">is_same_transaction/2</a></li><li><a href="#is_top_level_transaction/1">is_top_level_transaction/1</a></li><li><a href="#register_resource/2">register_resource/2</a></li><li><a href="#register_subtran_aware/2">register_subtran_aware/2</a></li><li><a href="#rollback_only/1">rollback_only/1</a></li></ul>
      </div>
    </div>

    <script type="text/javascript">
      var CURRENT_ROOT = "../";
    </script>

    <script type="text/javascript" src="../jquery.js"></script>
    <script type="text/javascript" src="../erldocs_index.js"></script>
    <script type="text/javascript" src="../erldocs.js"></script>

    <script type="text/javascript">
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-59760-14']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script');
        ga.src = ('https:' == document.location.protocol ?
          'https://ssl' : 'http://www') +
          '.google-analytics.com/ga.js';
        ga.setAttribute('async', 'true');
        document.documentElement.firstChild.appendChild(ga);
      })();
    </script>
  </body>
</html>

