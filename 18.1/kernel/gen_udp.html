<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>gen_udp (kernel) -  (Erlang Documentation)</title>
    <link href="../erldocs.css" type="text/css" rel="stylesheet"/>
    <link href="/search.xml" rel="search" type="application/opensearchdescription+xml" title="erldocs"/>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-44246018-1', 'auto');
      ga('send', 'pageview');
    </script>
  </head>

  <body>
    <div id="sidebar" class="inactive">
      <input type="text" id="search" autocomplete="off" placeholder="press TAB to search"/>
      <ul id="results"> </ul>
    </div>

    <div id="content">
      <div style="margin:0px; padding:10px 20px;">
        
  
  <h1>gen_udp</h1>
  <h2 class="modsummary">Interface to UDP sockets</h2>
  <div class="description">
    <p>The <code>gen_udp</code> module provides functions for communicating
      with sockets using the UDP protocol.</p>
  </div>

  <div id="types" class="category"><h4><a href="#types">Types</a></h4><hr />
    <div class="type">
      <h3 id="type-option">option/0</h3>
    </div>
    <div class="type">
      <h3 id="type-option_name">option_name/0</h3>
    </div>
    <div class="type">
      <h3 id="type-socket">socket()</h3>
      <div class="description">
        <p>As returned by open/1,2.</p>
      </div>
    </div>
  </div>

  <div id="functions" class="category"><h4><a href="#functions">Functions</a></h4><hr />
    <div class="function">
      <h3 id="open/1">open/1</h3>
      <h3 id="open/2">open/2</h3>
      
      <div class="description">
        <p>Associates a UDP port number (<code><anno>Port</anno></code>) with the calling
          process.</p>
        <p>The available options are:</p>
        <taglist>
          <dt><code>list</code></dt>
          <item>
            <p>Received <code>Packet</code> is delivered as a list.</p>
          </item>
          <dt><code>binary</code></dt>
          <item>
            <p>Received <code>Packet</code> is delivered as a binary.</p>
          </item>
          <dt><code>{ip, ip_address()}</code></dt>
          <item>
            <p>If the host has several network interfaces, this option
              specifies which one to use.</p>
          </item>

		  <dt><code>{ifaddr, ip_address()}</code></dt>
          <item>
			  <p>Same as <code>{ip, ip_address()}</code>. If the host has several network interfaces, this option
              specifies which one to use.</p>
		  </item>


          <dt><code>{fd, integer() &gt;= 0}</code></dt>
          <item>
            <p>If a socket has somehow been opened without using
              <code>gen_udp</code>, use this option to pass the file
              descriptor for it. If <code><anno>Port</anno></code> is not set to 0
              and/or <code>{ip, ip_address()}</code> is combined with this option
              the fd will be bound to the given interface and port after being
              opened. If these options are not given it is assumed that the fd
              is already bound appropriately.
            </p>
          </item>
          <dt><code>inet6</code></dt>
          <item>
            <p>Set up the socket for IPv6.</p>
          </item>
          <dt><code>inet</code></dt>
          <item>
            <p>Set up the socket for IPv4.</p>
          </item>

		  <dt><code>{udp_module, module()}</code></dt>
		  <item> <p>
				  Override which callback module is used. Defaults to
				  <code>inet_udp</code> for IPv4 and <code>inet6_udp</code> for IPv6.
			  </p>
		  </item>

          <dt><code>{multicast_if, Address}</code></dt>
          <item>
			  <p>Set the local device for a multicast socket.</p>
          </item>
 
          <dt><code>{multicast_loop, true | false}</code></dt>
          <item>
			  <p>
				  When <code>true</code> sent multicast packets will be looped back to the local
				  sockets.
			  </p>
          </item>

          <dt><code>{multicast_ttl, Integer}</code></dt>
          <item>
			  <p>
				  The <code>multicast_ttl</code> option changes the time-to-live (TTL) for
				  outgoing multicast datagrams in order to control the scope of the 
				  multicasts.
			  </p>
			  <p>
				  Datagrams with a TTL of 1 are not forwarded beyond the local
				  network.
				  <br />Default: 1
			  </p>
          </item>

		  <dt><code>{add_membership, {MultiAddress, InterfaceAddress}}</code></dt>
          <item>
			  <p>Join a multicast group. </p>
          </item>

		  <dt><code>{drop_membership, {MultiAddress, InterfaceAddress}}</code></dt>
          <item>
			  <p>Leave multicast group.</p>
          </item>

          <dt><code>Opt</code></dt>
          <item>
            <p>See
              <a href="inet.html#setopts//2" class="seealso">inet:setopts/2</a>.</p>
          </item>
        </taglist>
        <p>The returned socket <code><anno>Socket</anno></code> is used to send
          packets from this port with <code>send/4</code>. When UDP packets arrive
          at the opened port, if the socket is in an active mode the packets
          are delivered as messages to the controlling process:</p>
        <pre class="sh_erlang">
{udp, Socket, IP, InPortNo, Packet}</pre>
        <p>If the socket is not in an active mode, data can be
          retrieved via the <a href="#recv//2" class="seealso">recv/2,3</a> calls.
          Note that arriving UDP packets that are longer than
          the receive buffer option specifies, might be truncated
          without warning.</p>
        <p>When a socket in <code>{active, N}</code> mode (see <a href="inet.html#setopts//2" class="seealso">
          inet:setopts/2</a> for details) transitions to passive
          (<code>{active, false}</code>) mode, the controlling process is notified by a
          message of the following form:</p>
        <pre class="sh_erlang">
{udp_passive, Socket}</pre>
        <p><code>IP</code> and <code>InPortNo</code> define the address from which
          <code>Packet</code> came. <code>Packet</code> is a list of bytes if
          the option <code>list</code> was specified. <code>Packet</code> is a
          binary if the option <code>binary</code> was specified.</p>
        <p>Default value for the receive buffer option is
          <code>{recbuf, 8192}</code>.</p>
        <p>If <code><anno>Port</anno> == 0</code>, the underlying OS assigns a free UDP
          port, use <code>inet:port/1</code> to retrieve it.</p>
      </div>
    </div>
    <div class="function">
      <h3 id="send/4">send/4</h3>
      
      <div class="description">
        <p>Sends a packet to the specified address and port.
          The <code><anno>Address</anno></code> argument can be either a hostname, or an
          IP address.</p>
      </div>
    </div>
    <div class="function">
      <h3 id="recv/2">recv/2</h3>
      <h3 id="recv/3">recv/3</h3>
      
      <div class="description">
        <p>This function receives a packet from a socket in passive
          mode.</p>
        <p>The optional <code><anno>Timeout</anno></code> parameter specifies a timeout in
          milliseconds. The default value is <code>infinity</code>.</p>
      </div>
    </div>
    <div class="function">
      <h3 id="controlling_process/2">controlling_process/2</h3>
      
      <div class="description">
        <p>Assigns a new controlling process <code><anno>Pid</anno></code> to
          <code><anno>Socket</anno></code>. The controlling process is the process which
          receives messages from the socket. If called by any other
          process than the current controlling process,
          <code>{error, not_owner}</code> is returned.</p>
      </div>
    </div>
    <div class="function">
      <h3 id="close/1">close/1</h3>
      
      <div class="description">
        <p>Closes a UDP socket.</p>
      </div>
    </div>
  </div>

      </div>
  </div>

    <script type="text/javascript">
      var CURRENT_ROOT = "../";
    </script>

    <script type="text/javascript" src="../jquery.js"></script>
    <script type="text/javascript" src="../erldocs_index.js"></script>
    <script type="text/javascript" src="../erldocs.js"></script>
  </body>
</html>
