<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>mod_auth (inets) -  (Erlang Documentation)</title>
    <link href="../erldocs.css" type="text/css" rel="stylesheet"/>
    <link href="/search.xml" rel="search" type="application/opensearchdescription+xml" title="erldocs"/>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-44246018-1', 'auto');
      ga('send', 'pageview');
    </script>
  </head>

  <body>
    <div id="sidebar" class="inactive">
      <input type="text" id="search" autocomplete="off" placeholder="press TAB to search"/>
      <ul id="results"> </ul>
    </div>

    <div id="content">
      <div style="margin:0px; padding:10px 20px;">
        
  
  <h1>mod_auth</h1>
  <h2 class="modsummary">User authentication using text files, Dets, or Mnesia database.</h2>
  <div class="description">
    <p>This module provides for basic user authentication using
    textual files, Dets databases, or Mnesia databases.</p>
  </div>

  <div id="functions" class="category"><h4><a href="#functions">Functions</a></h4><hr/>
     <div class="function">
      <h3 id="add_group_member/3">add_group_member(GroupName, UserName, Options) -&gt; true | {error, Reason}</h3>
      <h3 id="add_group_member/4">add_group_member(GroupName, UserName, Port, Dir) -&gt; true | {error, Reason}</h3>
      <h3 id="add_group_member/5">add_group_member(GroupName, UserName, Address, Port, Dir) -&gt; true | {error, Reason}</h3>
      
      <ul class="type">
        <li><code>GroupName = string()</code></li>
        <li><code>UserName = string()</code></li>
        <li><code>Options = [Option]</code></li>
        <li><code>Option = {port,Port} | {addr,Address} | {dir,Directory} | {authPassword,AuthPassword}</code></li>
        <li><code>Port = integer()</code></li>
        <li><code>Address = {A,B,C,D} | string() | undefined</code></li>
        <li><code>Dir = string()</code></li>
        <li><code>AuthPassword = string()</code></li>
        <li><code>Reason = term()</code></li>
      </ul>
      <div class="description">
        <p><code>add_group_member/3, add_group_member/4</code>, and 
	<code>add_group_member/5</code> each
	adds a user to a group. If the group does not exist, it 
	is created and the user is added to the group. Upon successful 
	operation, this function returns <code>true</code>. 
	When <code>add_group_members/3</code> 
	is called, options <code>Port</code> and <code>Dir</code> are mandatory.</p>
      </div>
    </div>
    
    <div class="function">
      <h3 id="add_user/2">add_user(UserName, Options) -&gt; true| {error, Reason}</h3>
      <h3 id="add_user/5">add_user(UserName, Password, UserData, Port, Dir) -&gt; true | {error, Reason}</h3>
      <h3 id="add_user/6">add_user(UserName, Password, UserData, Address, Port, Dir) -&gt; true | {error, Reason}</h3>
      
      <ul class="type">
        <li><code>UserName = string()</code></li>
        <li><code>Options = [Option]</code></li>
        <li><code>Option = {password,Password} | {userData,UserData} | {port,Port} | {addr,Address} | {dir,Directory} | {authPassword,AuthPassword}</code></li>
        <li><code>Password = string()</code></li>
        <li><code>UserData = term()</code></li>
        <li><code>Port = integer()</code></li>
        <li><code>Address = {A,B,C,D} | string() | undefined</code></li>
        <li><code>Dir = string()</code></li>
        <li><code>AuthPassword =string()</code></li>
        <li><code>Reason = term()</code></li>
      </ul>
      <div class="description">
        <p><code>add_user/2, add_user/5</code>, and <code>add_user/6</code> each adds a 
	user to the user database. If the operation is successful, 
	this function returns <code>true</code>. If an error occurs, 
	<code>{error,Reason}</code> is returned. 
	When <code>add_user/2</code> is called, options <code>Password</code>, 
	<code>UserData</code>, <code>Port</code>, and <code>Dir</code> are mandatory.</p>
      </div>
    </div>

     <div class="function">
      <h3 id="delete_group/2">delete_group(GroupName, Options) -&gt; true | {error,Reason} &lt;name&gt;delete_group(GroupName, Port, Dir) -&gt; true | {error, Reason}</h3>
      <h3 id="delete_group/4">delete_group(GroupName, Address, Port, Dir) -&gt; true | {error, Reason}</h3>
      
      <ul class="type">
        <li><code>Options = [Option]</code></li>
        <li><code>Option = {port,Port} | {addr,Address} | {dir,Directory} | {authPassword,AuthPassword}</code></li>
        <li><code>Port = integer()</code></li>
        <li><code>Address = {A,B,C,D} | string() | undefined</code></li>
        <li><code>Dir = string()</code></li>
        <li><code>GroupName = string()</code></li>
        <li><code>AuthPassword = string()</code></li>
        <li><code>Reason = term()</code></li>
      </ul>
      <div class="description">
	<p><code>delete_group/2, delete_group/3</code>, and <code>delete_group/4</code> 
	each deletes the group specified and returns <code>true</code>. 
	If there is an error, <code>{error, Reason}</code> is returned. 
	When <code>delete_group/2</code> is called, option
	<code>Port</code> and <code>Dir</code> are mandatory.</p>
      </div>
    </div>

     <div class="function">
      <h3 id="delete_group_member/3">delete_group_member(GroupName, UserName, Options) -&gt; true | {error, Reason}</h3>
      <h3 id="delete_group_member/4">delete_group_member(GroupName, UserName, Port, Dir) -&gt; true | {error, Reason}</h3>
      <h3 id="delete_group_member/5">delete_group_member(GroupName, UserName, Address, Port, Dir) -&gt; true | {error, Reason}</h3>
      
      <ul class="type">
        <li><code>GroupName = string()</code></li>
        <li><code>UserName = string()</code></li>
        <li><code>Options = [Option]</code></li>
        <li><code>Option = {port,Port} | {addr,Address} | {dir,Directory} | {authPassword,AuthPassword}</code></li>
        <li><code>Port = integer()</code></li>
        <li><code>Address = {A,B,C,D} | string() | undefined</code></li>
        <li><code>Dir = string()</code></li>
        <li><code>AuthPassword = string()</code></li>
        <li><code>Reason = term()</code></li>
      </ul>
      <div class="description">
	<p><code>delete_group_member/3, delete_group_member/4</code>, and 
	<code>delete_group_member/5</code> each deletes a user from a group. 
	If the group or the user does not exist, 
	this function returns an error, otherwise <code>true</code>.
	When <code>delete_group_member/3</code> is called, the options <code>Port</code> 
	and <code>Dir</code> are mandatory.</p>
      </div>
    </div>
    
    <div class="function">
      <h3 id="delete_user/2">delete_user(UserName,Options) -&gt; true | {error, Reason}</h3>
      <h3 id="delete_user/3">delete_user(UserName, Port, Dir) -&gt; true | {error, Reason}</h3>
      <h3 id="delete_user/4">delete_user(UserName, Address, Port, Dir) -&gt; true | {error, Reason}</h3>
      
      <ul class="type">
        <li><code>UserName = string()</code></li>
        <li><code>Options = [Option]</code></li>
        <li><code>Option = {port,Port} | {addr,Address} | {dir,Directory} | {authPassword,AuthPassword}</code></li>
        <li><code>Port = integer()</code></li>
        <li><code>Address = {A,B,C,D} | string() | undefined</code></li>
        <li><code>Dir = string()</code></li>
        <li><code>AuthPassword = string()</code></li>
        <li><code>Reason = term()</code></li>
      </ul>
      <div class="description">
        <p><code>delete_user/2, delete_user/3</code>, and <code>delete_user/4</code> 
	each deletes a user from the user database. 
	If the operation is successful, this function returns <code>true</code>. 
	If an error occurs, <code>{error,Reason}</code> is returned. 
	When <code>delete_user/2</code> is called, options <code>Port</code> and <code>Dir</code> 
	are mandatory.</p>
      </div>
    </div>

    <div class="function">
      <h3 id="get_user/2">get_user(UserName,Options) -&gt; {ok, #httpd_user} |{error, Reason}</h3>
      <h3 id="get_user/3">get_user(UserName, Port, Dir) -&gt; {ok, #httpd_user} | {error, Reason}</h3>
      <h3 id="get_user/4">get_user(UserName, Address, Port, Dir) -&gt; {ok, #httpd_user} | {error, Reason}</h3>
      
      <ul class="type">
        <li><code>UserName = string()</code></li>
        <li><code>Options = [Option]</code></li>
        <li><code>Option = {port,Port} | {addr,Address} | {dir,Directory} | {authPassword,AuthPassword}</code></li>
        <li><code>Port = integer()</code></li>
        <li><code>Address = {A,B,C,D} | string() | undefined</code></li>
        <li><code>Dir = string()</code></li>
        <li><code>AuthPassword = string()</code></li>
        <li><code>Reason = term()</code></li>
      </ul>
      <div class="description">
        <p><code>get_user/2, get_user/3</code>, and <code>get_user/4</code> each 
	returns an <code>httpd_user</code> record containing the userdata for a 
	specific user. If the user cannot be found, <code>{error, Reason}</code> 
	is returned. When <code>get_user/2</code> is called, options <code>Port</code> and <code>Dir</code> 
	are mandatory.</p>
      </div>
    </div>

     <div class="function">
      <h3 id="list_groups/1">list_groups(Options) -&gt; {ok, Groups} | {error, Reason}</h3>
      <h3 id="list_groups/2">list_groups(Port, Dir) -&gt; {ok, Groups} | {error, Reason}</h3>
      <h3 id="list_groups/3">list_groups(Address, Port, Dir) -&gt; {ok, Groups} | {error, Reason}</h3>
      
      <ul class="type">
        <li><code>Options = [Option]</code></li>
        <li><code>Option = {port,Port} | {addr,Address} | {dir,Directory} | {authPassword,AuthPassword}</code></li>
        <li><code>Port = integer()</code></li>
        <li><code>Address = {A,B,C,D} | string() | undefined</code></li>
        <li><code>Dir = string()</code></li>
        <li><code>Groups = list()</code></li>
        <li><code>AuthPassword = string()</code></li>
        <li><code>Reason = term()</code></li>
      </ul>
      <div class="description">
	<p><code>list_groups/1, list_groups/2</code>, and <code>list_groups/3</code> 
	each lists all the groups available. 
	If there is an error, <code>{error, Reason}</code> is returned. 
	When <code>list_groups/1</code> is called, options <code>Port</code> 
	and <code>Dir</code> are mandatory.</p>
      </div>
    </div>
   
    <div class="function">
      <h3 id="list_group_members/2">list_group_members(GroupName, Options) -&gt; {ok, Users} | {error, Reason}</h3>
      <h3 id="list_group_members/3">list_group_members(GroupName, Port, Dir) -&gt; {ok, Users} | {error, Reason}</h3>
      <h3 id="list_group_members/4">list_group_members(GroupName, Address, Port, Dir) -&gt; {ok, Users} | {error, Reason}</h3>
      
      <ul class="type">
        <li><code>GroupName = string()</code></li>
        <li><code>Options = [Option]</code></li>
        <li><code>Option = {port,Port} | {addr,Address} | {dir,Directory} | {authPassword,AuthPassword}</code></li>
        <li><code>Port = integer()</code></li>
        <li><code>Address = {A,B,C,D} | string() | undefined</code></li>
        <li><code>Dir = string()</code></li>
        <li><code>Users = list()</code></li>
        <li><code>AuthPassword = string()</code></li>
        <li><code>Reason = term()</code></li>
      </ul>
      <div class="description">
        <p><code>list_group_members/2, list_group_members/3</code>, and 
	<code>list_group_members/4</code> each
	lists the members of a specified group. If the group does not 
	exist or there is an error, <code>{error, Reason}</code> is returned.
	When <code>list_group_members/2</code> is called, options <code>Port</code> 
	and <code>Dir</code> are mandatory.</p>
      </div>
    </div>

     <div class="function">
      <h3 id="list_users/1">list_users(Options) -&gt; {ok, Users} | {error, Reason}</h3>
      <h3 id="list_users/2">list_users(Port, Dir) -&gt; {ok, Users} | {error, Reason}</h3>
      <h3 id="list_users/3">list_users(Address, Port, Dir) -&gt; {ok, Users} | {error, Reason}</h3>
      
      <ul class="type">
        <li><code>Options = [Option]</code></li>
        <li><code>Option = {port,Port} | {addr,Address} | {dir,Directory} | {authPassword,AuthPassword}</code></li>
        <li><code>Port = integer()</code></li>
        <li><code>Address = {A,B,C,D} | string() | undefined</code></li>
        <li><code>Dir = string()</code></li>
        <li><code>Users = list()</code></li>
        <li><code>AuthPassword = string()</code></li>
        <li><code>Reason = atom()</code></li>
      </ul>
      <div class="description">
        <p><code>list_users/1, list_users/2</code>, and <code>list_users/3</code> 
	each returns a list 
	of users in the user database for a specific <code>Port/Dir</code>.
	When <code>list_users/1</code> is called, options <code>Port</code> and <code>Dir</code> 
	are mandatory.</p>
      </div>
    </div>
    
    <div class="function">
      <h3 id="update_password/5">update_password(Port, Dir, OldPassword, NewPassword, NewPassword) -&gt; ok | {error, Reason}</h3>
      <h3 id="update_password/6">update_password(Address,Port, Dir, OldPassword, NewPassword, NewPassword) -&gt; ok | {error, Reason}</h3>
      
      <ul class="type">
        <li><code>Port = integer()</code></li>
        <li><code>Address = {A,B,C,D} | string() | undefined</code></li>
        <li><code>Dir = string()</code></li>
        <li><code>GroupName = string()</code></li>
        <li><code>OldPassword = string()</code></li>
        <li><code>NewPassword = string()</code></li>
        <li><code>Reason = term()</code></li>
      </ul>
      <div class="description">
        <p><code>update_password/5</code> and <code>update_password/6</code> each
	updates <code>AuthAccessPassword</code> for the specified directory. 
	If <code>NewPassword</code> is equal to "NoPassword", no password is required to
	change authorisation data. 
	If <code>NewPassword</code> is equal to "DummyPassword", no changes can be done 
	without changing the password first.</p>
      </div>
    </div>
  </div>

  <div class="section">
    <h4>SEE ALSO</h4>
    <p><a href="httpd.html" class="seealso">httpd(3)</a>,
      <a href="mod_alias.html" class="seealso">mod_alias(3)</a></p>
  </div>
  

      </div>
  </div>

    <script type="text/javascript">
      var CURRENT_ROOT = "../";
    </script>

    <script type="text/javascript" src="../jquery.js"></script>
    <script type="text/javascript" src="../erldocs_index.js"></script>
    <script type="text/javascript" src="../erldocs.js"></script>
  </body>
</html>
