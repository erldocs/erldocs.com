<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="latin1" />
    <title>public_key (public_key) - R14Aextra - erldocs.com (Erlang Documentation)</title>
    <link type="text/css" rel="stylesheet" href="../erldocs.css" />
  </head>
  
  <body>

    <div id="sidebar" class="inactive">
      <input type="text" id="search" autocomplete="off" 
             placeholder="press TAB to search" />
      <ul id="results"> </ul>
    </div>

    <div id="content">
      <div style="margin:0px; padding:10px 20px;">
        
  
  <h1>public_key</h1>
  <h2 class="modsummary"> API module for public key infrastructure.</h2>
  <div class="description">
    <p>This module provides functions to handle public key infrastructure
    from RFC 3280 - X.509 certificates (will later be upgraded to RFC 5280)
    and some parts of the PKCS-standard.
    Currently this application is mainly used by the new
    ssl implementation. The API is yet under construction 
    and only a few of the functions are currently documented and thereby supported.
    </p>
  </div>

  <div class="section">
    <h4>COMMON DATA TYPES </h4> 
    
    <div class="note"><h2>Note!</h2><p>All records used in this manual 
    are generated from asn1 specifications
    and are documented in the User's Guide. See <a href="public_key_records.html" class="seealso">Public key records</a> and <a href="cert_records.html" class="seealso">X.509 Certificate records</a>. 
    </p></div>
    
    <p>Use the following include directive to get access to the 
    records and constant macros described here and in the User's Guide.</p>
    
    <code> -include_lib("public_key/include/public_key.hrl"). </code>

    <p><em>Data Types </em></p> 
    
    <p><code>boolean() = true | false</code></p> 

    <p><code>string = [bytes()]</code></p> 
     
    <p><code>asn1_der_encoded() = binary() | [bytes()]</code></p> 

    <p><code>der_bin() = binary() </code></p> 
    
    <p><code>oid() - a tuple of integers 
    as generated by the asn1 compiler.</code></p>

    <p><code>public_key() = rsa_public_key() | dsa_public_key()</code></p> 

    <p><code>rsa_public_key()  = #'RSAPublicKey'{}</code></p> 
    
    <p><code>rsa_private_key() = #'RSAPrivateKey'{} </code></p>

    <p><code>dsa_public_key() = integer() </code></p> 

    <p><code>public_key_params() = dsa_key_params() </code></p>
    
    <p><code>dsa_key_params()  = #'Dss-Parms'{} </code></p> 
    
    <p><code>private_key() =  rsa_private_key() | dsa_private_key()</code></p> 

    <p><code>rsa_private_key() = #'RSAPrivateKey'{} </code></p> 
    
    <p><code>dsa_private_key() = #'DSAPrivateKey'{}</code></p>

    <p><code>x509_certificate() = "#Certificate{}"</code></p>

    <p><code>x509_tbs_certificate() = #'TBSCertificate'{} </code></p> 

</div> 
  
<div class="functions"><h4>Functions</h4><hr  />  
  <div class="function"> 
    <h3 id="decode_private_key/1">decode_private_key(KeyInfo) -&gt; </h3> 
    <h3 id="decode_private_key/2">decode_private_key(KeyInfo, Password) -&gt; {ok, PrivateKey} | {error, Reason}</h3> 
     
    <ul class="type"> 
      <li><code> KeyInfo =  {KeyType, der_bin(), ChipherInfo} </code></li>
      <d> As returned from pem_to_der/1 for private keys</d>
      <li><code> KeyType =  rsa_private_key | dsa_private_key </code></li>
      <li><code> ChipherInfo = opaque() | no_encryption </code></li>
      <d> ChipherInfo may contain encryption parameters if the private key is password
      protected, these are opaque to the user just pass the value returned by pem_to_der/1
      to this function.</d>
      <li><code> Password =  string() </code></li>
      <d>Must be specified if CipherInfo =/= no_encryption</d>
      <li><code> PrivateKey =  private_key() </code></li>
      <li><code> Reason = term() </code></li> 
    </ul>
    <div class="description">
	 <p>Decodes an asn1 der encoded private key.</p>
    </div> 
  </div> 
     
  <div class="function">
    <h3 id="pem_to_der/1">pem_to_der(File) -&gt; {ok, [Entry]}</h3>
    
    <ul class="type">
      <li><code>File = path()</code></li> 
    <li><code>Password = string()</code></li> 
    <li><code>Entry = {entry_type(), der_bin(), CipherInfo}</code></li>
    <li><code> ChipherInfo = opaque() | no_encryption </code></li>
    <d> ChipherInfo may contain encryption parameters if the private key is password
    protected, these will be handled by the function decode_private_key/2. </d>
    <li><code>entry_type() = cert | cert_req | rsa_private_key | dsa_private_key | 
    dh_params </code></li>
  </ul> 
  <div class="description"> 
    <p>Reads a PEM file and translates it into its asn1 der 
    encoded parts.</p> 
  </div> 
  </div> 
    
  <div class="function"> 
    <h3 id="pkix_decode_cert/2">pkix_decode_cert(Cert, Type) -&gt; {ok, DecodedCert} | {error, Reason}</h3> 
     
    <ul class="type"> 
      <li><code>Cert = asn1_der_encoded() </code></li>
      <li><code>Type = plain | otp</code></li> 
      <li><code>DecodeCert = x509_certificate() </code></li> 
      <d>When type is specified as otp the asn1 spec OTP-PKIX.asn1 is used to decode known
      extensions and enhance the signature field in
      #'Certificate'{} and '#TBSCertificate'{}. This is currently used by the new ssl
      implementation but not documented and supported for the public_key application.</d> 
      <li><code>Reason = term() </code></li> 
    </ul> 
    <div class="description">
      <p> Decodes an asn1 encoded pkix certificate.</p> 
    </div> 
  </div>
  
</div>


      </div>
      <div id="funwrapper">
        <a id="viewfuns">View Functions</a>
        <ul id="funs"><li><a href="#decode_private_key/1">decode_private_key/1</a></li><li><a href="#decode_private_key/2">decode_private_key/2</a></li><li><a href="#pem_to_der/1">pem_to_der/1</a></li><li><a href="#pkix_decode_cert/2">pkix_decode_cert/2</a></li></ul>
      </div>
    </div>

    <script type="text/javascript">
      var CURRENT_ROOT = "../";
    </script>

    <script type="text/javascript" src="../jquery.js"></script>
    <script type="text/javascript" src="../erldocs_index.js"></script>
    <script type="text/javascript" src="../erldocs.js"></script>

    <script type="text/javascript">
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-44246018-1']);
      _gaq.push(['_trackPageview']);
      
      (function() {
        var ga = document.createElement('script');
        ga.src = ('https:' == document.location.protocol ?
          'https://ssl' : 'http://www') +
          '.google-analytics.com/ga.js';
        ga.setAttribute('async', 'true');
        document.documentElement.firstChild.appendChild(ga);
      })();
    </script>
  </body>
</html>

